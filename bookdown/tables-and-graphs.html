<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Tables and Graphs | Data Structures, Estimation and Optimization with R</title>
  <meta name="description" content="Use Python in R with Reticulate" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Tables and Graphs | Data Structures, Estimation and Optimization with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Use Python in R with Reticulate" />
  <meta name="github-repo" content="fanwangecon/R4Econ" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Tables and Graphs | Data Structures, Estimation and Optimization with R" />
  
  <meta name="twitter:description" content="Use Python in R with Reticulate" />
  

<meta name="author" content="Fan Wang" />


<meta name="date" content="2020-09-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mathmatics-and-statistics.html"/>
<link rel="next" href="get-data.html"/>
<script src="libs/header-attrs-2.3/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-92953468-5');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Panel Data and Optimization with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html"><i class="fa fa-check"></i><b>1</b> Array, Matrix, Dataframe</a>
<ul>
<li class="chapter" data-level="1.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#list"><i class="fa fa-check"></i><b>1.1</b> List</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#multiple-dimensional-list"><i class="fa fa-check"></i><b>1.1.1</b> Multiple Dimensional List</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#array"><i class="fa fa-check"></i><b>1.2</b> Array</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#array-basics"><i class="fa fa-check"></i><b>1.2.1</b> Array Basics</a></li>
<li class="chapter" data-level="1.2.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-arrays"><i class="fa fa-check"></i><b>1.2.2</b> Generate Arrays</a></li>
<li class="chapter" data-level="1.2.3" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#string-arrays"><i class="fa fa-check"></i><b>1.2.3</b> String Arrays</a></li>
<li class="chapter" data-level="1.2.4" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#mesh-matrices-arrays-and-scalars"><i class="fa fa-check"></i><b>1.2.4</b> Mesh Matrices, Arrays and Scalars</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#matrix"><i class="fa fa-check"></i><b>1.3</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-matrixes"><i class="fa fa-check"></i><b>1.3.1</b> Generate Matrixes</a></li>
<li class="chapter" data-level="1.3.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#linear-algebra"><i class="fa fa-check"></i><b>1.3.2</b> Linear Algebra</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#variables-in-dataframes"><i class="fa fa-check"></i><b>1.4</b> Variables in Dataframes</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-dataframe"><i class="fa fa-check"></i><b>1.4.1</b> Generate Dataframe</a></li>
<li class="chapter" data-level="1.4.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#factor-label-and-combine"><i class="fa fa-check"></i><b>1.4.2</b> Factor Label and Combine</a></li>
<li class="chapter" data-level="1.4.3" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#drawly-random-rows"><i class="fa fa-check"></i><b>1.4.3</b> Drawly Random Rows</a></li>
<li class="chapter" data-level="1.4.4" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-variables-conditional-on-others"><i class="fa fa-check"></i><b>1.4.4</b> Generate Variables Conditional On Others</a></li>
<li class="chapter" data-level="1.4.5" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#string-values"><i class="fa fa-check"></i><b>1.4.5</b> String Values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="summarize-data.html"><a href="summarize-data.html"><i class="fa fa-check"></i><b>2</b> Summarize Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="summarize-data.html"><a href="summarize-data.html#counting-observation"><i class="fa fa-check"></i><b>2.1</b> Counting Observation</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="summarize-data.html"><a href="summarize-data.html#uncount"><i class="fa fa-check"></i><b>2.1.1</b> Uncount</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="summarize-data.html"><a href="summarize-data.html#sorting-indexing-slicing"><i class="fa fa-check"></i><b>2.2</b> Sorting, Indexing, Slicing</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="summarize-data.html"><a href="summarize-data.html#sorting"><i class="fa fa-check"></i><b>2.2.1</b> Sorting</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="summarize-data.html"><a href="summarize-data.html#group-statistics"><i class="fa fa-check"></i><b>2.3</b> Group Statistics</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="summarize-data.html"><a href="summarize-data.html#groups-statistics"><i class="fa fa-check"></i><b>2.3.1</b> Groups Statistics</a></li>
<li class="chapter" data-level="2.3.2" data-path="summarize-data.html"><a href="summarize-data.html#one-variable-group-summary"><i class="fa fa-check"></i><b>2.3.2</b> One Variable Group Summary</a></li>
<li class="chapter" data-level="2.3.3" data-path="summarize-data.html"><a href="summarize-data.html#nested-within-group-stats"><i class="fa fa-check"></i><b>2.3.3</b> Nested within Group Stats</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="summarize-data.html"><a href="summarize-data.html#distributional-statistics"><i class="fa fa-check"></i><b>2.4</b> Distributional Statistics</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="summarize-data.html"><a href="summarize-data.html#histogram"><i class="fa fa-check"></i><b>2.4.1</b> Histogram</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summarize-data.html"><a href="summarize-data.html#summarize-multiple-variables"><i class="fa fa-check"></i><b>2.5</b> Summarize Multiple Variables</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="summarize-data.html"><a href="summarize-data.html#generate-replace-variables"><i class="fa fa-check"></i><b>2.5.1</b> Generate Replace Variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#dataframe-mutate"><i class="fa fa-check"></i><b>3.1</b> Dataframe Mutate</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="functions.html"><a href="functions.html#row-input-functions"><i class="fa fa-check"></i><b>3.1.1</b> Row Input Functions</a></li>
<li class="chapter" data-level="3.1.2" data-path="functions.html"><a href="functions.html#evaluate-choices-across-states"><i class="fa fa-check"></i><b>3.1.2</b> Evaluate Choices Across States</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#dataframe-do-anything"><i class="fa fa-check"></i><b>3.2</b> Dataframe Do Anything</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="functions.html"><a href="functions.html#mx1-by-n-to-mxq-by-n1"><i class="fa fa-check"></i><b>3.2.1</b> (Mx1 by N) to (MxQ by N+1)</a></li>
<li class="chapter" data-level="3.2.2" data-path="functions.html"><a href="functions.html#mxp-by-n-to-mx1-by-1"><i class="fa fa-check"></i><b>3.2.2</b> (MxP by N) to (Mx1 by 1)</a></li>
<li class="chapter" data-level="3.2.3" data-path="functions.html"><a href="functions.html#mxp-by-n-to-mxq-by-nz"><i class="fa fa-check"></i><b>3.2.3</b> (MxP by N) to (MxQ by N+Z)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#apply-and-pmap"><i class="fa fa-check"></i><b>3.3</b> Apply and pmap</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="functions.html"><a href="functions.html#apply-and-sapply"><i class="fa fa-check"></i><b>3.3.1</b> Apply and Sapply</a></li>
<li class="chapter" data-level="3.3.2" data-path="functions.html"><a href="functions.html#mutate-evaluate-functions"><i class="fa fa-check"></i><b>3.3.2</b> Mutate Evaluate Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="panel.html"><a href="panel.html"><i class="fa fa-check"></i><b>4</b> Panel</a>
<ul>
<li class="chapter" data-level="4.1" data-path="panel.html"><a href="panel.html#generate-and-join"><i class="fa fa-check"></i><b>4.1</b> Generate and Join</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="panel.html"><a href="panel.html#generate-panel-structure"><i class="fa fa-check"></i><b>4.1.1</b> Generate Panel Structure</a></li>
<li class="chapter" data-level="4.1.2" data-path="panel.html"><a href="panel.html#join-datasets"><i class="fa fa-check"></i><b>4.1.2</b> Join Datasets</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="panel.html"><a href="panel.html#wide-and-long"><i class="fa fa-check"></i><b>4.2</b> Wide and Long</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="panel.html"><a href="panel.html#long-to-wide"><i class="fa fa-check"></i><b>4.2.1</b> Long to Wide</a></li>
<li class="chapter" data-level="4.2.2" data-path="panel.html"><a href="panel.html#wide-to-long"><i class="fa fa-check"></i><b>4.2.2</b> Wide to Long</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>5</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="linear-regression.html"><a href="linear-regression.html#ols-and-iv"><i class="fa fa-check"></i><b>5.1</b> OLS and IV</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="linear-regression.html"><a href="linear-regression.html#ols-and-iv-regression"><i class="fa fa-check"></i><b>5.1.1</b> OLS and IV Regression</a></li>
<li class="chapter" data-level="5.1.2" data-path="linear-regression.html"><a href="linear-regression.html#iv-loop-over-rhs"><i class="fa fa-check"></i><b>5.1.2</b> IV Loop over RHS</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="linear-regression.html"><a href="linear-regression.html#decomposition"><i class="fa fa-check"></i><b>5.2</b> Decomposition</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="linear-regression.html"><a href="linear-regression.html#decompose-rhs"><i class="fa fa-check"></i><b>5.2.1</b> Decompose RHS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nonlinear-regression.html"><a href="nonlinear-regression.html"><i class="fa fa-check"></i><b>6</b> Nonlinear Regression</a>
<ul>
<li class="chapter" data-level="6.1" data-path="nonlinear-regression.html"><a href="nonlinear-regression.html#logit-regression"><i class="fa fa-check"></i><b>6.1</b> Logit Regression</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="nonlinear-regression.html"><a href="nonlinear-regression.html#binary-logit"><i class="fa fa-check"></i><b>6.1.1</b> Binary Logit</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="nonlinear-regression.html"><a href="nonlinear-regression.html#quantile-regression"><i class="fa fa-check"></i><b>6.2</b> Quantile Regression</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="nonlinear-regression.html"><a href="nonlinear-regression.html#quantile-regression-basics"><i class="fa fa-check"></i><b>6.2.1</b> Quantile Regression Basics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>7</b> Optimization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="optimization.html"><a href="optimization.html#bisection"><i class="fa fa-check"></i><b>7.1</b> Bisection</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="optimization.html"><a href="optimization.html#bisection-1"><i class="fa fa-check"></i><b>7.1.1</b> Bisection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html"><i class="fa fa-check"></i><b>8</b> Mathmatics and Statistics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#distributions"><i class="fa fa-check"></i><b>8.1</b> Distributions</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#integrate-over-normal-guassian-process-shock"><i class="fa fa-check"></i><b>8.1.1</b> Integrate Over Normal Guassian Process Shock</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#analytical-solutions"><i class="fa fa-check"></i><b>8.2</b> Analytical Solutions</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#linear-scalar-fx0-solutions"><i class="fa fa-check"></i><b>8.2.1</b> Linear Scalar f(x)=0 Solutions</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#inequality-models"><i class="fa fa-check"></i><b>8.3</b> Inequality Models</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#gini-discrete-sample"><i class="fa fa-check"></i><b>8.3.1</b> Gini Discrete Sample</a></li>
<li class="chapter" data-level="8.3.2" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#atkinson-inequality-index"><i class="fa fa-check"></i><b>8.3.2</b> Atkinson Inequality Index</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html"><i class="fa fa-check"></i><b>9</b> Tables and Graphs</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#r-base-plots"><i class="fa fa-check"></i><b>9.1</b> R Base Plots</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#plot-curve-line-and-points"><i class="fa fa-check"></i><b>9.1.1</b> Plot Curve, Line and Points</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#write-and-read-plots"><i class="fa fa-check"></i><b>9.2</b> Write and Read Plots</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#import-and-export-images"><i class="fa fa-check"></i><b>9.2.1</b> Import and Export Images</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="get-data.html"><a href="get-data.html"><i class="fa fa-check"></i><b>10</b> Get Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="get-data.html"><a href="get-data.html#environmental-data"><i class="fa fa-check"></i><b>10.1</b> Environmental Data</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="get-data.html"><a href="get-data.html#ecmwf-era5-data"><i class="fa fa-check"></i><b>10.1.1</b> ECMWF ERA5 Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="code-and-development.html"><a href="code-and-development.html"><i class="fa fa-check"></i><b>11</b> Code and Development</a>
<ul>
<li class="chapter" data-level="11.1" data-path="code-and-development.html"><a href="code-and-development.html#file-in-and-out"><i class="fa fa-check"></i><b>11.1</b> File in and Out</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="code-and-development.html"><a href="code-and-development.html#text-to-file"><i class="fa fa-check"></i><b>11.1.1</b> Text to File</a></li>
<li class="chapter" data-level="11.1.2" data-path="code-and-development.html"><a href="code-and-development.html#rmd-to-html"><i class="fa fa-check"></i><b>11.1.2</b> Rmd to HTML</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="code-and-development.html"><a href="code-and-development.html#python-with-r"><i class="fa fa-check"></i><b>11.2</b> Python with R</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="code-and-development.html"><a href="code-and-development.html#reticulate-basics"><i class="fa fa-check"></i><b>11.2.1</b> Reticulate Basics</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="index-and-code-links.html"><a href="index-and-code-links.html"><i class="fa fa-check"></i><b>A</b> Index and Code Links</a>
<ul>
<li class="chapter" data-level="A.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#array-matrix-dataframe-links"><i class="fa fa-check"></i><b>A.1</b> Array, Matrix, Dataframe links</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.1-listlist-links"><i class="fa fa-check"></i><b>A.1.1</b> <span>Section 1.1 List</span> links</a></li>
<li class="chapter" data-level="A.1.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.2-arrayarray-links"><i class="fa fa-check"></i><b>A.1.2</b> <span>Section 1.2 Array</span> links</a></li>
<li class="chapter" data-level="A.1.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.3-matrixmatrix-links"><i class="fa fa-check"></i><b>A.1.3</b> <span>Section 1.3 Matrix</span> links</a></li>
<li class="chapter" data-level="A.1.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.4-variables-in-dataframesvariables-in-dataframes-links"><i class="fa fa-check"></i><b>A.1.4</b> <span>Section 1.4 Variables in Dataframes</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#summarize-data-links"><i class="fa fa-check"></i><b>A.2</b> Summarize Data links</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.1-counting-observationcounting-observation-links"><i class="fa fa-check"></i><b>A.2.1</b> <span>Section 2.1 Counting Observation</span> links</a></li>
<li class="chapter" data-level="A.2.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.2-sorting-indexing-slicingsorting-indexing-slicing-links"><i class="fa fa-check"></i><b>A.2.2</b> <span>Section 2.2 Sorting, Indexing, Slicing</span> links</a></li>
<li class="chapter" data-level="A.2.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.3-group-statisticsgroup-statistics-links"><i class="fa fa-check"></i><b>A.2.3</b> <span>Section 2.3 Group Statistics</span> links</a></li>
<li class="chapter" data-level="A.2.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.4-distributional-statisticsdistributional-statistics-links"><i class="fa fa-check"></i><b>A.2.4</b> <span>Section 2.4 Distributional Statistics</span> links</a></li>
<li class="chapter" data-level="A.2.5" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.5-summarize-multiple-variablessummarize-multiple-variables-links"><i class="fa fa-check"></i><b>A.2.5</b> <span>Section 2.5 Summarize Multiple Variables</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#functions-links"><i class="fa fa-check"></i><b>A.3</b> Functions links</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.1-dataframe-mutatedataframe-mutate-links"><i class="fa fa-check"></i><b>A.3.1</b> <span>Section 3.1 Dataframe Mutate</span> links</a></li>
<li class="chapter" data-level="A.3.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.2-dataframe-do-anythingdataframe-do-anything-links"><i class="fa fa-check"></i><b>A.3.2</b> <span>Section 3.2 Dataframe Do Anything</span> links</a></li>
<li class="chapter" data-level="A.3.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.3-apply-and-pmapapply-and-pmap-links"><i class="fa fa-check"></i><b>A.3.3</b> <span>Section 3.3 Apply and pmap</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#panel-links"><i class="fa fa-check"></i><b>A.4</b> Panel links</a>
<ul>
<li class="chapter" data-level="A.4.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-4.1-generate-and-joingenerate-and-join-links"><i class="fa fa-check"></i><b>A.4.1</b> <span>Section 4.1 Generate and Join</span> links</a></li>
<li class="chapter" data-level="A.4.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-4.2-wide-and-longwide-and-long-links"><i class="fa fa-check"></i><b>A.4.2</b> <span>Section 4.2 Wide and Long</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.5" data-path="index-and-code-links.html"><a href="index-and-code-links.html#linear-regression-links"><i class="fa fa-check"></i><b>A.5</b> Linear Regression links</a>
<ul>
<li class="chapter" data-level="A.5.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-5.1-ols-and-ivols-and-iv-links"><i class="fa fa-check"></i><b>A.5.1</b> <span>Section 5.1 OLS and IV</span> links</a></li>
<li class="chapter" data-level="A.5.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-5.2-decompositiondecomposition-links"><i class="fa fa-check"></i><b>A.5.2</b> <span>Section 5.2 Decomposition</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.6" data-path="index-and-code-links.html"><a href="index-and-code-links.html#nonlinear-regression-links"><i class="fa fa-check"></i><b>A.6</b> Nonlinear Regression links</a>
<ul>
<li class="chapter" data-level="A.6.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.1-logit-regressionlogit-regression-links"><i class="fa fa-check"></i><b>A.6.1</b> <span>Section 6.1 Logit Regression</span> links</a></li>
<li class="chapter" data-level="A.6.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.2-quantile-regressionquantile-regression-links"><i class="fa fa-check"></i><b>A.6.2</b> <span>Section 6.2 Quantile Regression</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.7" data-path="index-and-code-links.html"><a href="index-and-code-links.html#optimization-links"><i class="fa fa-check"></i><b>A.7</b> Optimization links</a>
<ul>
<li class="chapter" data-level="A.7.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-7.1-bisectionbisection-links"><i class="fa fa-check"></i><b>A.7.1</b> <span>Section 7.1 Bisection</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.8" data-path="index-and-code-links.html"><a href="index-and-code-links.html#mathmatics-and-statistics-links"><i class="fa fa-check"></i><b>A.8</b> Mathmatics and Statistics links</a>
<ul>
<li class="chapter" data-level="A.8.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.1-distributionsdistributions-links"><i class="fa fa-check"></i><b>A.8.1</b> <span>Section 8.1 Distributions</span> links</a></li>
<li class="chapter" data-level="A.8.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.2-analytical-solutionsanalytical-solutions-links"><i class="fa fa-check"></i><b>A.8.2</b> <span>Section 8.2 Analytical Solutions</span> links</a></li>
<li class="chapter" data-level="A.8.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.3-inequality-modelsinequality-models-links"><i class="fa fa-check"></i><b>A.8.3</b> <span>Section 8.3 Inequality Models</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.9" data-path="index-and-code-links.html"><a href="index-and-code-links.html#tables-and-graphs-links"><i class="fa fa-check"></i><b>A.9</b> Tables and Graphs links</a>
<ul>
<li class="chapter" data-level="A.9.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.1-r-base-plotsr-base-plots-links"><i class="fa fa-check"></i><b>A.9.1</b> <span>Section 9.1 R Base Plots</span> links</a></li>
<li class="chapter" data-level="A.9.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.2-write-and-read-plotswrite-and-read-plots-links"><i class="fa fa-check"></i><b>A.9.2</b> <span>Section 9.2 Write and Read Plots</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.10" data-path="index-and-code-links.html"><a href="index-and-code-links.html#get-data-links"><i class="fa fa-check"></i><b>A.10</b> Get Data links</a>
<ul>
<li class="chapter" data-level="A.10.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-10.1-environmental-dataenvironmental-data-links"><i class="fa fa-check"></i><b>A.10.1</b> <span>Section 10.1 Environmental Data</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.11" data-path="index-and-code-links.html"><a href="index-and-code-links.html#code-and-development-links"><i class="fa fa-check"></i><b>A.11</b> Code and Development links</a>
<ul>
<li class="chapter" data-level="A.11.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-11.1-file-in-and-outfile-in-and-out-links"><i class="fa fa-check"></i><b>A.11.1</b> <span>Section 11.1 File in and Out</span> links</a></li>
<li class="chapter" data-level="A.11.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-11.2-python-with-rpython-with-r-links"><i class="fa fa-check"></i><b>A.11.2</b> <span>Section 11.2 Python with R</span> links</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://fanwangecon.github.io/R4Econ/bookdown/index.html" target="blank">R4Econ Bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Structures, Estimation and Optimization with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tables-and-graphs" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> Tables and Graphs</h1>

<div id="r-base-plots" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> R Base Plots</h2>

<div id="plot-curve-line-and-points" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Plot Curve, Line and Points</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/REconTools/">REconTools</a> Package, <a href="https://fanwangecon.github.io/R4Econ/">R Code Examples</a> Repository (<a href="https://fanwangecon.github.io/R4Econ/bookdown">bookdown site</a>), or <a href="https://fanwangecon.github.io/Stat4Econ/">Intro Stats with R</a> Repository (<a href="https://fanwangecon.github.io/Stat4Econ/bookdown">bookdown site</a>).</p>
</blockquote>
<p>Work with the R plot function.</p>
<div id="one-point-one-line-and-two-curves" class="section level4" number="9.1.1.1">
<h4><span class="header-section-number">9.1.1.1</span> One Point, One Line and Two Curves</h4>
<ul>
<li>r curve on top of plot</li>
<li>r plot specify pch lty both scatter and line</li>
<li>r legend outside</li>
</ul>
<p>Jointly plot:</p>
<ul>
<li>1 scatter plot</li>
<li>1 line plot</li>
<li>2 function curve plots</li>
</ul>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="tables-and-graphs.html#cb448-1" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-2"><a href="tables-and-graphs.html#cb448-2" aria-hidden="true"></a><span class="co"># First, Some common Labels:</span></span>
<span id="cb448-3"><a href="tables-and-graphs.html#cb448-3" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-4"><a href="tables-and-graphs.html#cb448-4" aria-hidden="true"></a><span class="co"># Labeling</span></span>
<span id="cb448-5"><a href="tables-and-graphs.html#cb448-5" aria-hidden="true"></a>st_title &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;Scatter, Line and Curve Joint Ploting Example Using Base R</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb448-6"><a href="tables-and-graphs.html#cb448-6" aria-hidden="true"></a>                   <span class="st">&#39;plot() + curve(): x*sin(x), cos(x), sin(x)*cos(x), sin(x)+tan(x)+cos(x)&#39;</span>)</span>
<span id="cb448-7"><a href="tables-and-graphs.html#cb448-7" aria-hidden="true"></a>st_subtitle &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;https://fanwangecon.github.io/&#39;</span>,</span>
<span id="cb448-8"><a href="tables-and-graphs.html#cb448-8" aria-hidden="true"></a>                      <span class="st">&#39;R4Econ/tabgraph/inout/htmlpdfr/fs_base_curve.html&#39;</span>)</span>
<span id="cb448-9"><a href="tables-and-graphs.html#cb448-9" aria-hidden="true"></a>st_x_label &lt;-<span class="st"> &#39;x&#39;</span></span>
<span id="cb448-10"><a href="tables-and-graphs.html#cb448-10" aria-hidden="true"></a>st_y_label &lt;-<span class="st"> &#39;f(x)&#39;</span></span>
<span id="cb448-11"><a href="tables-and-graphs.html#cb448-11" aria-hidden="true"></a></span>
<span id="cb448-12"><a href="tables-and-graphs.html#cb448-12" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-13"><a href="tables-and-graphs.html#cb448-13" aria-hidden="true"></a><span class="co"># Second, Generate the Graphs Functions and data points:</span></span>
<span id="cb448-14"><a href="tables-and-graphs.html#cb448-14" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-15"><a href="tables-and-graphs.html#cb448-15" aria-hidden="true"></a><span class="co"># x only used for Point 1 and Line 1</span></span>
<span id="cb448-16"><a href="tables-and-graphs.html#cb448-16" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">1</span><span class="op">*</span>pi, <span class="dv">1</span><span class="op">*</span>pi, <span class="dt">length.out=</span><span class="dv">25</span>)</span>
<span id="cb448-17"><a href="tables-and-graphs.html#cb448-17" aria-hidden="true"></a><span class="co"># Line (Point) 1: Generate X and Y</span></span>
<span id="cb448-18"><a href="tables-and-graphs.html#cb448-18" aria-hidden="true"></a>y1 &lt;-<span class="st"> </span>x<span class="op">*</span><span class="kw">sin</span>(x)</span>
<span id="cb448-19"><a href="tables-and-graphs.html#cb448-19" aria-hidden="true"></a>st_point_<span class="dv">1</span>_y_legend &lt;-<span class="st"> &#39;x*sin(x)&#39;</span></span>
<span id="cb448-20"><a href="tables-and-graphs.html#cb448-20" aria-hidden="true"></a><span class="co"># Line 2: Line Plot</span></span>
<span id="cb448-21"><a href="tables-and-graphs.html#cb448-21" aria-hidden="true"></a>y2 &lt;-<span class="st"> </span><span class="kw">cos</span>(x)</span>
<span id="cb448-22"><a href="tables-and-graphs.html#cb448-22" aria-hidden="true"></a>st_line_<span class="dv">2</span>_y_legend &lt;-<span class="st"> &#39;cos(x)&#39;</span></span>
<span id="cb448-23"><a href="tables-and-graphs.html#cb448-23" aria-hidden="true"></a><span class="co"># Line 3: Function</span></span>
<span id="cb448-24"><a href="tables-and-graphs.html#cb448-24" aria-hidden="true"></a>fc_sin_cos_diff &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">sin</span>(x)<span class="op">*</span><span class="kw">cos</span>(x)</span>
<span id="cb448-25"><a href="tables-and-graphs.html#cb448-25" aria-hidden="true"></a>st_line_<span class="dv">3</span>_y_legend &lt;-<span class="st"> &#39;sin(x)*cos(x)&#39;</span></span>
<span id="cb448-26"><a href="tables-and-graphs.html#cb448-26" aria-hidden="true"></a><span class="co"># Line 4: Function</span></span>
<span id="cb448-27"><a href="tables-and-graphs.html#cb448-27" aria-hidden="true"></a>fc_sin_cos_tan &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">sin</span>(x) <span class="op">+</span><span class="st"> </span><span class="kw">cos</span>(x) <span class="op">+</span><span class="st"> </span><span class="kw">tan</span>(x)</span>
<span id="cb448-28"><a href="tables-and-graphs.html#cb448-28" aria-hidden="true"></a>st_line_<span class="dv">4</span>_y_legend &lt;-<span class="st"> &#39;sin(x) + tan(x) + cos(x)&#39;</span></span>
<span id="cb448-29"><a href="tables-and-graphs.html#cb448-29" aria-hidden="true"></a></span>
<span id="cb448-30"><a href="tables-and-graphs.html#cb448-30" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-31"><a href="tables-and-graphs.html#cb448-31" aria-hidden="true"></a><span class="co"># Third, set:</span></span>
<span id="cb448-32"><a href="tables-and-graphs.html#cb448-32" aria-hidden="true"></a><span class="co"># - point shape and size: *pch* and *cex*</span></span>
<span id="cb448-33"><a href="tables-and-graphs.html#cb448-33" aria-hidden="true"></a><span class="co"># - line type and width: *lty* and *lwd*</span></span>
<span id="cb448-34"><a href="tables-and-graphs.html#cb448-34" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-35"><a href="tables-and-graphs.html#cb448-35" aria-hidden="true"></a><span class="co"># http://www.sthda.com/english/wiki/r-plot-pch-symbols-the-different-point-shapes-available-in-r</span></span>
<span id="cb448-36"><a href="tables-and-graphs.html#cb448-36" aria-hidden="true"></a><span class="co"># http://www.sthda.com/english/wiki/line-types-in-r-lty</span></span>
<span id="cb448-37"><a href="tables-and-graphs.html#cb448-37" aria-hidden="true"></a><span class="co"># for colors, see: https://fanwangecon.github.io/M4Econ/graph/tools/fs_color.html</span></span>
<span id="cb448-38"><a href="tables-and-graphs.html#cb448-38" aria-hidden="true"></a>st_point_<span class="dv">1</span>_blue &lt;-<span class="st"> </span><span class="kw">rgb</span>(<span class="dv">57</span><span class="op">/</span><span class="dv">255</span>,<span class="dv">106</span><span class="op">/</span><span class="dv">255</span>,<span class="dv">177</span><span class="op">/</span><span class="dv">255</span>)</span>
<span id="cb448-39"><a href="tables-and-graphs.html#cb448-39" aria-hidden="true"></a>st_line_<span class="dv">2</span>_red &lt;-<span class="st"> </span><span class="kw">rgb</span>(<span class="dv">204</span><span class="op">/</span><span class="dv">255</span>, <span class="dv">37</span><span class="op">/</span><span class="dv">255</span>, <span class="dv">41</span><span class="op">/</span><span class="dv">255</span>,)</span>
<span id="cb448-40"><a href="tables-and-graphs.html#cb448-40" aria-hidden="true"></a>st_line_<span class="dv">3</span>_black &lt;-<span class="st"> &#39;black&#39;</span></span>
<span id="cb448-41"><a href="tables-and-graphs.html#cb448-41" aria-hidden="true"></a>st_line_<span class="dv">4</span>_purple &lt;-<span class="st"> &#39;orange&#39;</span></span>
<span id="cb448-42"><a href="tables-and-graphs.html#cb448-42" aria-hidden="true"></a></span>
<span id="cb448-43"><a href="tables-and-graphs.html#cb448-43" aria-hidden="true"></a><span class="co"># point type</span></span>
<span id="cb448-44"><a href="tables-and-graphs.html#cb448-44" aria-hidden="true"></a>st_point_<span class="dv">1</span>_pch &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb448-45"><a href="tables-and-graphs.html#cb448-45" aria-hidden="true"></a><span class="co"># point size</span></span>
<span id="cb448-46"><a href="tables-and-graphs.html#cb448-46" aria-hidden="true"></a>st_point_<span class="dv">1</span>_cex &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb448-47"><a href="tables-and-graphs.html#cb448-47" aria-hidden="true"></a></span>
<span id="cb448-48"><a href="tables-and-graphs.html#cb448-48" aria-hidden="true"></a><span class="co"># line type</span></span>
<span id="cb448-49"><a href="tables-and-graphs.html#cb448-49" aria-hidden="true"></a>st_line_<span class="dv">2</span>_lty &lt;-<span class="st"> &#39;dashed&#39;</span></span>
<span id="cb448-50"><a href="tables-and-graphs.html#cb448-50" aria-hidden="true"></a>st_line_<span class="dv">3</span>_lty &lt;-<span class="st"> &#39;dotted&#39;</span></span>
<span id="cb448-51"><a href="tables-and-graphs.html#cb448-51" aria-hidden="true"></a>st_line_<span class="dv">4</span>_lty &lt;-<span class="st"> &#39;dotdash&#39;</span></span>
<span id="cb448-52"><a href="tables-and-graphs.html#cb448-52" aria-hidden="true"></a><span class="co"># line width</span></span>
<span id="cb448-53"><a href="tables-and-graphs.html#cb448-53" aria-hidden="true"></a>st_line_<span class="dv">2</span>_lwd &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb448-54"><a href="tables-and-graphs.html#cb448-54" aria-hidden="true"></a>st_line_<span class="dv">3</span>_lwd &lt;-<span class="st"> </span><span class="fl">2.5</span></span>
<span id="cb448-55"><a href="tables-and-graphs.html#cb448-55" aria-hidden="true"></a>st_line_<span class="dv">4</span>_lwd &lt;-<span class="st"> </span><span class="fl">3.5</span></span>
<span id="cb448-56"><a href="tables-and-graphs.html#cb448-56" aria-hidden="true"></a></span>
<span id="cb448-57"><a href="tables-and-graphs.html#cb448-57" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-58"><a href="tables-and-graphs.html#cb448-58" aria-hidden="true"></a><span class="co"># Fourth: Share xlim and ylim</span></span>
<span id="cb448-59"><a href="tables-and-graphs.html#cb448-59" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-60"><a href="tables-and-graphs.html#cb448-60" aria-hidden="true"></a>ar_xlim =<span class="st"> </span><span class="kw">c</span>(<span class="kw">min</span>(x), <span class="kw">max</span>(x))</span>
<span id="cb448-61"><a href="tables-and-graphs.html#cb448-61" aria-hidden="true"></a>ar_ylim =<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)</span>
<span id="cb448-62"><a href="tables-and-graphs.html#cb448-62" aria-hidden="true"></a></span>
<span id="cb448-63"><a href="tables-and-graphs.html#cb448-63" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-64"><a href="tables-and-graphs.html#cb448-64" aria-hidden="true"></a><span class="co"># Fifth: the legend will be long, will place it to the right of figure,</span></span>
<span id="cb448-65"><a href="tables-and-graphs.html#cb448-65" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-66"><a href="tables-and-graphs.html#cb448-66" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span><span class="ot">FALSE</span>, <span class="dt">mar=</span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">10</span>))</span>
<span id="cb448-67"><a href="tables-and-graphs.html#cb448-67" aria-hidden="true"></a></span>
<span id="cb448-68"><a href="tables-and-graphs.html#cb448-68" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-69"><a href="tables-and-graphs.html#cb448-69" aria-hidden="true"></a><span class="co"># Sixth, the four objects and do not print yet:</span></span>
<span id="cb448-70"><a href="tables-and-graphs.html#cb448-70" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-71"><a href="tables-and-graphs.html#cb448-71" aria-hidden="true"></a><span class="co"># pdf(NULL)</span></span>
<span id="cb448-72"><a href="tables-and-graphs.html#cb448-72" aria-hidden="true"></a><span class="co"># Graph Scatter 1</span></span>
<span id="cb448-73"><a href="tables-and-graphs.html#cb448-73" aria-hidden="true"></a><span class="kw">plot</span>(x, y1, <span class="dt">type=</span><span class="st">&quot;p&quot;</span>,</span>
<span id="cb448-74"><a href="tables-and-graphs.html#cb448-74" aria-hidden="true"></a>     <span class="dt">col =</span> st_point_<span class="dv">1</span>_blue,</span>
<span id="cb448-75"><a href="tables-and-graphs.html#cb448-75" aria-hidden="true"></a>     <span class="dt">pch =</span> st_point_<span class="dv">1</span>_pch, <span class="dt">cex =</span> st_point_<span class="dv">1</span>_cex,</span>
<span id="cb448-76"><a href="tables-and-graphs.html#cb448-76" aria-hidden="true"></a>     <span class="dt">xlim =</span> ar_xlim, <span class="dt">ylim =</span> ar_ylim,</span>
<span id="cb448-77"><a href="tables-and-graphs.html#cb448-77" aria-hidden="true"></a>     <span class="dt">panel.first =</span> <span class="kw">grid</span>(),</span>
<span id="cb448-78"><a href="tables-and-graphs.html#cb448-78" aria-hidden="true"></a>     <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">ann=</span><span class="ot">FALSE</span>)</span>
<span id="cb448-79"><a href="tables-and-graphs.html#cb448-79" aria-hidden="true"></a>pl_scatter_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span>
<span id="cb448-80"><a href="tables-and-graphs.html#cb448-80" aria-hidden="true"></a></span>
<span id="cb448-81"><a href="tables-and-graphs.html#cb448-81" aria-hidden="true"></a><span class="co"># Graph Line 2</span></span>
<span id="cb448-82"><a href="tables-and-graphs.html#cb448-82" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb448-83"><a href="tables-and-graphs.html#cb448-83" aria-hidden="true"></a><span class="kw">plot</span>(x, y2, <span class="dt">type=</span><span class="st">&quot;l&quot;</span>,</span>
<span id="cb448-84"><a href="tables-and-graphs.html#cb448-84" aria-hidden="true"></a>     <span class="dt">col =</span> st_line_<span class="dv">2</span>_red,</span>
<span id="cb448-85"><a href="tables-and-graphs.html#cb448-85" aria-hidden="true"></a>     <span class="dt">lwd =</span> st_line_<span class="dv">2</span>_lwd, <span class="dt">lty =</span> st_line_<span class="dv">2</span>_lty,</span>
<span id="cb448-86"><a href="tables-and-graphs.html#cb448-86" aria-hidden="true"></a>     <span class="dt">xlim =</span> ar_xlim, <span class="dt">ylim =</span> ar_ylim,</span>
<span id="cb448-87"><a href="tables-and-graphs.html#cb448-87" aria-hidden="true"></a>     <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">ann=</span><span class="ot">FALSE</span>)</span>
<span id="cb448-88"><a href="tables-and-graphs.html#cb448-88" aria-hidden="true"></a>pl_<span class="dv">12</span> &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span>
<span id="cb448-89"><a href="tables-and-graphs.html#cb448-89" aria-hidden="true"></a></span>
<span id="cb448-90"><a href="tables-and-graphs.html#cb448-90" aria-hidden="true"></a><span class="co"># Graph Curve 3</span></span>
<span id="cb448-91"><a href="tables-and-graphs.html#cb448-91" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb448-92"><a href="tables-and-graphs.html#cb448-92" aria-hidden="true"></a><span class="kw">curve</span>(fc_sin_cos_diff,</span>
<span id="cb448-93"><a href="tables-and-graphs.html#cb448-93" aria-hidden="true"></a>      <span class="dt">col =</span> st_line_<span class="dv">3</span>_black,</span>
<span id="cb448-94"><a href="tables-and-graphs.html#cb448-94" aria-hidden="true"></a>      <span class="dt">lwd =</span> st_line_<span class="dv">3</span>_lwd, <span class="dt">lty =</span> st_line_<span class="dv">3</span>_lty,</span>
<span id="cb448-95"><a href="tables-and-graphs.html#cb448-95" aria-hidden="true"></a>      <span class="dt">from =</span> ar_xlim[<span class="dv">1</span>], <span class="dt">to =</span> ar_xlim[<span class="dv">2</span>], <span class="dt">ylim =</span> ar_ylim,</span>
<span id="cb448-96"><a href="tables-and-graphs.html#cb448-96" aria-hidden="true"></a>      <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">ann=</span><span class="ot">FALSE</span>)</span>
<span id="cb448-97"><a href="tables-and-graphs.html#cb448-97" aria-hidden="true"></a>pl_<span class="dv">123</span> &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span>
<span id="cb448-98"><a href="tables-and-graphs.html#cb448-98" aria-hidden="true"></a></span>
<span id="cb448-99"><a href="tables-and-graphs.html#cb448-99" aria-hidden="true"></a><span class="co"># Graph Curve 4</span></span>
<span id="cb448-100"><a href="tables-and-graphs.html#cb448-100" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb448-101"><a href="tables-and-graphs.html#cb448-101" aria-hidden="true"></a><span class="kw">curve</span>(fc_sin_cos_tan,</span>
<span id="cb448-102"><a href="tables-and-graphs.html#cb448-102" aria-hidden="true"></a>      <span class="dt">col =</span> st_line_<span class="dv">4</span>_purple,</span>
<span id="cb448-103"><a href="tables-and-graphs.html#cb448-103" aria-hidden="true"></a>      <span class="dt">lwd =</span> st_line_<span class="dv">4</span>_lwd, <span class="dt">lty =</span> st_line_<span class="dv">4</span>_lty,</span>
<span id="cb448-104"><a href="tables-and-graphs.html#cb448-104" aria-hidden="true"></a>      <span class="dt">from =</span> ar_xlim[<span class="dv">1</span>], <span class="dt">to =</span> ar_xlim[<span class="dv">2</span>], <span class="dt">ylim =</span> ar_ylim,</span>
<span id="cb448-105"><a href="tables-and-graphs.html#cb448-105" aria-hidden="true"></a>      <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">ann=</span><span class="ot">FALSE</span>)</span>
<span id="cb448-106"><a href="tables-and-graphs.html#cb448-106" aria-hidden="true"></a>pl_<span class="dv">1234</span> &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span>
<span id="cb448-107"><a href="tables-and-graphs.html#cb448-107" aria-hidden="true"></a><span class="co"># invisible(dev.off())</span></span>
<span id="cb448-108"><a href="tables-and-graphs.html#cb448-108" aria-hidden="true"></a></span>
<span id="cb448-109"><a href="tables-and-graphs.html#cb448-109" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-110"><a href="tables-and-graphs.html#cb448-110" aria-hidden="true"></a><span class="co"># Seventh, Set Title and Legend and Plot Jointly</span></span>
<span id="cb448-111"><a href="tables-and-graphs.html#cb448-111" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb448-112"><a href="tables-and-graphs.html#cb448-112" aria-hidden="true"></a><span class="co"># CEX sizing Contorl Titling and Legend Sizes</span></span>
<span id="cb448-113"><a href="tables-and-graphs.html#cb448-113" aria-hidden="true"></a>fl_ces_fig_reg =<span class="st"> </span><span class="dv">1</span></span>
<span id="cb448-114"><a href="tables-and-graphs.html#cb448-114" aria-hidden="true"></a>fl_ces_fig_small =<span class="st"> </span><span class="fl">0.75</span></span>
<span id="cb448-115"><a href="tables-and-graphs.html#cb448-115" aria-hidden="true"></a></span>
<span id="cb448-116"><a href="tables-and-graphs.html#cb448-116" aria-hidden="true"></a><span class="co"># R Legend</span></span>
<span id="cb448-117"><a href="tables-and-graphs.html#cb448-117" aria-hidden="true"></a><span class="kw">title</span>(<span class="dt">main =</span> st_title, <span class="dt">sub =</span> st_subtitle, <span class="dt">xlab =</span> st_x_label, <span class="dt">ylab =</span> st_y_label,</span>
<span id="cb448-118"><a href="tables-and-graphs.html#cb448-118" aria-hidden="true"></a>      <span class="dt">cex.lab=</span>fl_ces_fig_reg,</span>
<span id="cb448-119"><a href="tables-and-graphs.html#cb448-119" aria-hidden="true"></a>      <span class="dt">cex.main=</span>fl_ces_fig_reg,</span>
<span id="cb448-120"><a href="tables-and-graphs.html#cb448-120" aria-hidden="true"></a>      <span class="dt">cex.sub=</span>fl_ces_fig_small)</span>
<span id="cb448-121"><a href="tables-and-graphs.html#cb448-121" aria-hidden="true"></a><span class="kw">axis</span>(<span class="dv">1</span>, <span class="dt">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb448-122"><a href="tables-and-graphs.html#cb448-122" aria-hidden="true"></a><span class="kw">axis</span>(<span class="dv">2</span>, <span class="dt">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb448-123"><a href="tables-and-graphs.html#cb448-123" aria-hidden="true"></a><span class="kw">grid</span>()</span>
<span id="cb448-124"><a href="tables-and-graphs.html#cb448-124" aria-hidden="true"></a></span>
<span id="cb448-125"><a href="tables-and-graphs.html#cb448-125" aria-hidden="true"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb448-126"><a href="tables-and-graphs.html#cb448-126" aria-hidden="true"></a><span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb448-127"><a href="tables-and-graphs.html#cb448-127" aria-hidden="true"></a>       <span class="dt">inset=</span><span class="kw">c</span>(<span class="op">-</span><span class="fl">0.4</span>,<span class="dv">0</span>),</span>
<span id="cb448-128"><a href="tables-and-graphs.html#cb448-128" aria-hidden="true"></a>       <span class="dt">xpd=</span><span class="ot">TRUE</span>,</span>
<span id="cb448-129"><a href="tables-and-graphs.html#cb448-129" aria-hidden="true"></a>       <span class="kw">c</span>(st_point_<span class="dv">1</span>_y_legend, st_line_<span class="dv">2</span>_y_legend, st_line_<span class="dv">3</span>_y_legend, st_line_<span class="dv">4</span>_y_legend),</span>
<span id="cb448-130"><a href="tables-and-graphs.html#cb448-130" aria-hidden="true"></a>       <span class="dt">col =</span> <span class="kw">c</span>(st_point_<span class="dv">1</span>_blue, st_line_<span class="dv">2</span>_red, st_line_<span class="dv">3</span>_black, st_line_<span class="dv">4</span>_purple),</span>
<span id="cb448-131"><a href="tables-and-graphs.html#cb448-131" aria-hidden="true"></a>       <span class="dt">pch =</span> <span class="kw">c</span>(st_point_<span class="dv">1</span>_pch, <span class="ot">NA</span>, <span class="ot">NA</span>, <span class="ot">NA</span>),</span>
<span id="cb448-132"><a href="tables-and-graphs.html#cb448-132" aria-hidden="true"></a>       <span class="dt">cex =</span> fl_ces_fig_small,</span>
<span id="cb448-133"><a href="tables-and-graphs.html#cb448-133" aria-hidden="true"></a>       <span class="dt">lty =</span> <span class="kw">c</span>(<span class="ot">NA</span>, st_line_<span class="dv">2</span>_lty, st_line_<span class="dv">3</span>_lty, st_line_<span class="dv">4</span>_lty),</span>
<span id="cb448-134"><a href="tables-and-graphs.html#cb448-134" aria-hidden="true"></a>       <span class="dt">lwd =</span> <span class="kw">c</span>(<span class="ot">NA</span>, st_line_<span class="dv">2</span>_lwd, st_line_<span class="dv">3</span>_lwd,st_line_<span class="dv">4</span>_lwd),</span>
<span id="cb448-135"><a href="tables-and-graphs.html#cb448-135" aria-hidden="true"></a>       <span class="dt">title =</span> <span class="st">&#39;Legends&#39;</span>,</span>
<span id="cb448-136"><a href="tables-and-graphs.html#cb448-136" aria-hidden="true"></a>       <span class="dt">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Panel-Data-and-Optimization-with-R_files/figure-html/unnamed-chunk-209-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="tables-and-graphs.html#cb449-1" aria-hidden="true"></a><span class="co"># record final plot</span></span>
<span id="cb449-2"><a href="tables-and-graphs.html#cb449-2" aria-hidden="true"></a>pl_<span class="dv">1234</span>_final &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span></code></pre></div>
<p>We used recordplot() earlier. So now we can print just the first two constructed plots.</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="tables-and-graphs.html#cb450-1" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb450-2"><a href="tables-and-graphs.html#cb450-2" aria-hidden="true"></a><span class="co"># Eighth, Plot just the first two saved lines</span></span>
<span id="cb450-3"><a href="tables-and-graphs.html#cb450-3" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb450-4"><a href="tables-and-graphs.html#cb450-4" aria-hidden="true"></a><span class="co"># mar: margin, bottom, left, top, right</span></span>
<span id="cb450-5"><a href="tables-and-graphs.html#cb450-5" aria-hidden="true"></a>pl_<span class="dv">12</span></span>
<span id="cb450-6"><a href="tables-and-graphs.html#cb450-6" aria-hidden="true"></a><span class="co"># R Legend</span></span>
<span id="cb450-7"><a href="tables-and-graphs.html#cb450-7" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb450-8"><a href="tables-and-graphs.html#cb450-8" aria-hidden="true"></a><span class="kw">title</span>(<span class="dt">main =</span> st_title, <span class="dt">sub =</span> st_subtitle, <span class="dt">xlab =</span> st_x_label, <span class="dt">ylab =</span> st_y_label,</span>
<span id="cb450-9"><a href="tables-and-graphs.html#cb450-9" aria-hidden="true"></a>      <span class="dt">cex.lab =</span> fl_ces_fig_reg,</span>
<span id="cb450-10"><a href="tables-and-graphs.html#cb450-10" aria-hidden="true"></a>      <span class="dt">cex.main =</span> fl_ces_fig_reg,</span>
<span id="cb450-11"><a href="tables-and-graphs.html#cb450-11" aria-hidden="true"></a>      <span class="dt">cex.sub =</span> fl_ces_fig_small)</span>
<span id="cb450-12"><a href="tables-and-graphs.html#cb450-12" aria-hidden="true"></a></span>
<span id="cb450-13"><a href="tables-and-graphs.html#cb450-13" aria-hidden="true"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb450-14"><a href="tables-and-graphs.html#cb450-14" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb450-15"><a href="tables-and-graphs.html#cb450-15" aria-hidden="true"></a><span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb450-16"><a href="tables-and-graphs.html#cb450-16" aria-hidden="true"></a>       <span class="dt">inset=</span><span class="kw">c</span>(<span class="op">-</span><span class="fl">0.4</span>,<span class="dv">0</span>),</span>
<span id="cb450-17"><a href="tables-and-graphs.html#cb450-17" aria-hidden="true"></a>       <span class="dt">xpd=</span><span class="ot">TRUE</span>,</span>
<span id="cb450-18"><a href="tables-and-graphs.html#cb450-18" aria-hidden="true"></a>       <span class="kw">c</span>(st_point_<span class="dv">1</span>_y_legend, st_line_<span class="dv">2</span>_y_legend),</span>
<span id="cb450-19"><a href="tables-and-graphs.html#cb450-19" aria-hidden="true"></a>       <span class="dt">col =</span> <span class="kw">c</span>(st_point_<span class="dv">1</span>_blue, st_line_<span class="dv">2</span>_red),</span>
<span id="cb450-20"><a href="tables-and-graphs.html#cb450-20" aria-hidden="true"></a>       <span class="dt">pch =</span> <span class="kw">c</span>(st_point_<span class="dv">1</span>_pch, <span class="ot">NA</span>),</span>
<span id="cb450-21"><a href="tables-and-graphs.html#cb450-21" aria-hidden="true"></a>       <span class="dt">cex =</span> fl_ces_fig_small,</span>
<span id="cb450-22"><a href="tables-and-graphs.html#cb450-22" aria-hidden="true"></a>       <span class="dt">lty =</span> <span class="kw">c</span>(<span class="ot">NA</span>, st_line_<span class="dv">2</span>_lty),</span>
<span id="cb450-23"><a href="tables-and-graphs.html#cb450-23" aria-hidden="true"></a>       <span class="dt">lwd =</span> <span class="kw">c</span>(<span class="ot">NA</span>, st_line_<span class="dv">2</span>_lwd),</span>
<span id="cb450-24"><a href="tables-and-graphs.html#cb450-24" aria-hidden="true"></a>       <span class="dt">title =</span> <span class="st">&#39;Legends&#39;</span>,</span>
<span id="cb450-25"><a href="tables-and-graphs.html#cb450-25" aria-hidden="true"></a>       <span class="dt">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Panel-Data-and-Optimization-with-R_files/figure-html/unnamed-chunk-210-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
<div id="write-and-read-plots" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> Write and Read Plots</h2>

<div id="import-and-export-images" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Import and Export Images</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/REconTools/">REconTools</a> Package, <a href="https://fanwangecon.github.io/R4Econ/">R Code Examples</a> Repository (<a href="https://fanwangecon.github.io/R4Econ/bookdown">bookdown site</a>), or <a href="https://fanwangecon.github.io/Stat4Econ/">Intro Stats with R</a> Repository (<a href="https://fanwangecon.github.io/Stat4Econ/bookdown">bookdown site</a>).</p>
</blockquote>
<p>Work with the R plot function.</p>
<div id="export-images-different-formats-with-plot" class="section level4" number="9.2.1.1">
<h4><span class="header-section-number">9.2.1.1</span> Export Images Different Formats with Plot()</h4>
<div id="generate-and-record-a-plot" class="section level5" number="9.2.1.1.1">
<h5><span class="header-section-number">9.2.1.1.1</span> Generate and Record A Plot</h5>
<p>Generate a graph and recordPlot() it. The generated graph does not have legends Yet. Crucially, there are no titles, legends, axis, labels in the figures. As we stack the figures together, do not add those. Only add at the end jointly for all figure elements together to control at one spot things.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="tables-and-graphs.html#cb451-1" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-2"><a href="tables-and-graphs.html#cb451-2" aria-hidden="true"></a><span class="co"># First, Strings</span></span>
<span id="cb451-3"><a href="tables-and-graphs.html#cb451-3" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-4"><a href="tables-and-graphs.html#cb451-4" aria-hidden="true"></a><span class="co"># Labeling</span></span>
<span id="cb451-5"><a href="tables-and-graphs.html#cb451-5" aria-hidden="true"></a>st_title &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;Scatter, Line and Curve Joint Ploting Example Using Base R</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb451-6"><a href="tables-and-graphs.html#cb451-6" aria-hidden="true"></a>                   <span class="st">&#39;plot() + curve():sin(x)*cos(x), sin(x)+tan(x)+cos(x)&#39;</span>)</span>
<span id="cb451-7"><a href="tables-and-graphs.html#cb451-7" aria-hidden="true"></a>st_subtitle &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&#39;https://fanwangecon.github.io/&#39;</span>,</span>
<span id="cb451-8"><a href="tables-and-graphs.html#cb451-8" aria-hidden="true"></a>                      <span class="st">&#39;R4Econ/tabgraph/inout/htmlpdfr/fs_base_curve.html&#39;</span>)</span>
<span id="cb451-9"><a href="tables-and-graphs.html#cb451-9" aria-hidden="true"></a>st_x_label &lt;-<span class="st"> &#39;x&#39;</span></span>
<span id="cb451-10"><a href="tables-and-graphs.html#cb451-10" aria-hidden="true"></a>st_y_label &lt;-<span class="st"> &#39;f(x)&#39;</span></span>
<span id="cb451-11"><a href="tables-and-graphs.html#cb451-11" aria-hidden="true"></a></span>
<span id="cb451-12"><a href="tables-and-graphs.html#cb451-12" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-13"><a href="tables-and-graphs.html#cb451-13" aria-hidden="true"></a><span class="co"># Second, functions</span></span>
<span id="cb451-14"><a href="tables-and-graphs.html#cb451-14" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-15"><a href="tables-and-graphs.html#cb451-15" aria-hidden="true"></a>fc_sin_cos_diff &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">sin</span>(x)<span class="op">*</span><span class="kw">cos</span>(x)</span>
<span id="cb451-16"><a href="tables-and-graphs.html#cb451-16" aria-hidden="true"></a>st_line_<span class="dv">3</span>_y_legend &lt;-<span class="st"> &#39;sin(x)*cos(x)&#39;</span></span>
<span id="cb451-17"><a href="tables-and-graphs.html#cb451-17" aria-hidden="true"></a>fc_sin_cos_tan &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">sin</span>(x) <span class="op">+</span><span class="st"> </span><span class="kw">cos</span>(x) <span class="op">+</span><span class="st"> </span><span class="kw">tan</span>(x)</span>
<span id="cb451-18"><a href="tables-and-graphs.html#cb451-18" aria-hidden="true"></a>st_line_<span class="dv">4</span>_y_legend &lt;-<span class="st"> &#39;sin(x) + tan(x) + cos(x)&#39;</span></span>
<span id="cb451-19"><a href="tables-and-graphs.html#cb451-19" aria-hidden="true"></a></span>
<span id="cb451-20"><a href="tables-and-graphs.html#cb451-20" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-21"><a href="tables-and-graphs.html#cb451-21" aria-hidden="true"></a><span class="co"># Third, patterns</span></span>
<span id="cb451-22"><a href="tables-and-graphs.html#cb451-22" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-23"><a href="tables-and-graphs.html#cb451-23" aria-hidden="true"></a>st_line_<span class="dv">3</span>_black &lt;-<span class="st"> &#39;black&#39;</span></span>
<span id="cb451-24"><a href="tables-and-graphs.html#cb451-24" aria-hidden="true"></a>st_line_<span class="dv">4</span>_purple &lt;-<span class="st"> &#39;orange&#39;</span></span>
<span id="cb451-25"><a href="tables-and-graphs.html#cb451-25" aria-hidden="true"></a><span class="co"># line type</span></span>
<span id="cb451-26"><a href="tables-and-graphs.html#cb451-26" aria-hidden="true"></a>st_line_<span class="dv">3</span>_lty &lt;-<span class="st"> &#39;dotted&#39;</span></span>
<span id="cb451-27"><a href="tables-and-graphs.html#cb451-27" aria-hidden="true"></a>st_line_<span class="dv">4</span>_lty &lt;-<span class="st"> &#39;dotdash&#39;</span></span>
<span id="cb451-28"><a href="tables-and-graphs.html#cb451-28" aria-hidden="true"></a><span class="co"># line width</span></span>
<span id="cb451-29"><a href="tables-and-graphs.html#cb451-29" aria-hidden="true"></a>st_line_<span class="dv">3</span>_lwd &lt;-<span class="st"> </span><span class="fl">2.5</span></span>
<span id="cb451-30"><a href="tables-and-graphs.html#cb451-30" aria-hidden="true"></a>st_line_<span class="dv">4</span>_lwd &lt;-<span class="st"> </span><span class="fl">3.5</span></span>
<span id="cb451-31"><a href="tables-and-graphs.html#cb451-31" aria-hidden="true"></a></span>
<span id="cb451-32"><a href="tables-and-graphs.html#cb451-32" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-33"><a href="tables-and-graphs.html#cb451-33" aria-hidden="true"></a><span class="co"># Fourth: Share xlim and ylim</span></span>
<span id="cb451-34"><a href="tables-and-graphs.html#cb451-34" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-35"><a href="tables-and-graphs.html#cb451-35" aria-hidden="true"></a>ar_xlim =<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb451-36"><a href="tables-and-graphs.html#cb451-36" aria-hidden="true"></a>ar_ylim =<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)</span>
<span id="cb451-37"><a href="tables-and-graphs.html#cb451-37" aria-hidden="true"></a></span>
<span id="cb451-38"><a href="tables-and-graphs.html#cb451-38" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-39"><a href="tables-and-graphs.html#cb451-39" aria-hidden="true"></a><span class="co"># Fifth: Even margins</span></span>
<span id="cb451-40"><a href="tables-and-graphs.html#cb451-40" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-41"><a href="tables-and-graphs.html#cb451-41" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span><span class="ot">FALSE</span>)</span>
<span id="cb451-42"><a href="tables-and-graphs.html#cb451-42" aria-hidden="true"></a></span>
<span id="cb451-43"><a href="tables-and-graphs.html#cb451-43" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-44"><a href="tables-and-graphs.html#cb451-44" aria-hidden="true"></a><span class="co"># Sixth, the four objects and do not print yet:</span></span>
<span id="cb451-45"><a href="tables-and-graphs.html#cb451-45" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb451-46"><a href="tables-and-graphs.html#cb451-46" aria-hidden="true"></a><span class="co"># Graph Curve 3</span></span>
<span id="cb451-47"><a href="tables-and-graphs.html#cb451-47" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb451-48"><a href="tables-and-graphs.html#cb451-48" aria-hidden="true"></a><span class="kw">curve</span>(fc_sin_cos_diff,</span>
<span id="cb451-49"><a href="tables-and-graphs.html#cb451-49" aria-hidden="true"></a>      <span class="dt">col =</span> st_line_<span class="dv">3</span>_black,</span>
<span id="cb451-50"><a href="tables-and-graphs.html#cb451-50" aria-hidden="true"></a>      <span class="dt">lwd =</span> st_line_<span class="dv">3</span>_lwd, <span class="dt">lty =</span> st_line_<span class="dv">3</span>_lty,</span>
<span id="cb451-51"><a href="tables-and-graphs.html#cb451-51" aria-hidden="true"></a>      <span class="dt">from =</span> ar_xlim[<span class="dv">1</span>], <span class="dt">to =</span> ar_xlim[<span class="dv">2</span>], <span class="dt">ylim =</span> ar_ylim,</span>
<span id="cb451-52"><a href="tables-and-graphs.html#cb451-52" aria-hidden="true"></a>      <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">ann=</span><span class="ot">FALSE</span>)</span>
<span id="cb451-53"><a href="tables-and-graphs.html#cb451-53" aria-hidden="true"></a><span class="co"># Graph Curve 4</span></span>
<span id="cb451-54"><a href="tables-and-graphs.html#cb451-54" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">new=</span>T)</span>
<span id="cb451-55"><a href="tables-and-graphs.html#cb451-55" aria-hidden="true"></a><span class="kw">curve</span>(fc_sin_cos_tan,</span>
<span id="cb451-56"><a href="tables-and-graphs.html#cb451-56" aria-hidden="true"></a>      <span class="dt">col =</span> st_line_<span class="dv">4</span>_purple,</span>
<span id="cb451-57"><a href="tables-and-graphs.html#cb451-57" aria-hidden="true"></a>      <span class="dt">lwd =</span> st_line_<span class="dv">4</span>_lwd, <span class="dt">lty =</span> st_line_<span class="dv">4</span>_lty,</span>
<span id="cb451-58"><a href="tables-and-graphs.html#cb451-58" aria-hidden="true"></a>      <span class="dt">from =</span> ar_xlim[<span class="dv">1</span>], <span class="dt">to =</span> ar_xlim[<span class="dv">2</span>], <span class="dt">ylim =</span> ar_ylim,</span>
<span id="cb451-59"><a href="tables-and-graphs.html#cb451-59" aria-hidden="true"></a>      <span class="dt">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="dt">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="dt">ann=</span><span class="ot">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="tables-and-graphs.html#cb452-1" aria-hidden="true"></a>pl_curves_save &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span></code></pre></div>
</div>
<div id="generate-large-font-and-small-font-versions-of-plot" class="section level5" number="9.2.1.1.2">
<h5><span class="header-section-number">9.2.1.1.2</span> Generate Large Font and Small Font Versions of PLot</h5>
<p>Generate larger font version:</p>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="tables-and-graphs.html#cb453-1" aria-hidden="true"></a><span class="co"># Replay</span></span>
<span id="cb453-2"><a href="tables-and-graphs.html#cb453-2" aria-hidden="true"></a>pl_curves_save</span>
<span id="cb453-3"><a href="tables-and-graphs.html#cb453-3" aria-hidden="true"></a></span>
<span id="cb453-4"><a href="tables-and-graphs.html#cb453-4" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb453-5"><a href="tables-and-graphs.html#cb453-5" aria-hidden="true"></a><span class="co"># Seventh, Set Title and Legend and Plot Jointly</span></span>
<span id="cb453-6"><a href="tables-and-graphs.html#cb453-6" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb453-7"><a href="tables-and-graphs.html#cb453-7" aria-hidden="true"></a><span class="co"># CEX sizing Contorl Titling and Legend Sizes</span></span>
<span id="cb453-8"><a href="tables-and-graphs.html#cb453-8" aria-hidden="true"></a>fl_ces_fig_reg =<span class="st"> </span><span class="fl">0.75</span></span>
<span id="cb453-9"><a href="tables-and-graphs.html#cb453-9" aria-hidden="true"></a>fl_ces_fig_leg =<span class="st"> </span><span class="fl">0.75</span></span>
<span id="cb453-10"><a href="tables-and-graphs.html#cb453-10" aria-hidden="true"></a>fl_ces_fig_small =<span class="st"> </span><span class="fl">0.65</span></span>
<span id="cb453-11"><a href="tables-and-graphs.html#cb453-11" aria-hidden="true"></a></span>
<span id="cb453-12"><a href="tables-and-graphs.html#cb453-12" aria-hidden="true"></a><span class="co"># R Legend</span></span>
<span id="cb453-13"><a href="tables-and-graphs.html#cb453-13" aria-hidden="true"></a><span class="kw">title</span>(<span class="dt">main =</span> st_title, <span class="dt">sub =</span> st_subtitle, <span class="dt">xlab =</span> st_x_label, <span class="dt">ylab =</span> st_y_label,</span>
<span id="cb453-14"><a href="tables-and-graphs.html#cb453-14" aria-hidden="true"></a>      <span class="dt">cex.lab=</span>fl_ces_fig_reg,</span>
<span id="cb453-15"><a href="tables-and-graphs.html#cb453-15" aria-hidden="true"></a>      <span class="dt">cex.main=</span>fl_ces_fig_reg,</span>
<span id="cb453-16"><a href="tables-and-graphs.html#cb453-16" aria-hidden="true"></a>      <span class="dt">cex.sub=</span>fl_ces_fig_small)</span>
<span id="cb453-17"><a href="tables-and-graphs.html#cb453-17" aria-hidden="true"></a><span class="kw">axis</span>(<span class="dv">1</span>, <span class="dt">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb453-18"><a href="tables-and-graphs.html#cb453-18" aria-hidden="true"></a><span class="kw">axis</span>(<span class="dv">2</span>, <span class="dt">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb453-19"><a href="tables-and-graphs.html#cb453-19" aria-hidden="true"></a><span class="kw">grid</span>()</span>
<span id="cb453-20"><a href="tables-and-graphs.html#cb453-20" aria-hidden="true"></a></span>
<span id="cb453-21"><a href="tables-and-graphs.html#cb453-21" aria-hidden="true"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb453-22"><a href="tables-and-graphs.html#cb453-22" aria-hidden="true"></a><span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb453-23"><a href="tables-and-graphs.html#cb453-23" aria-hidden="true"></a>       <span class="dt">bg=</span><span class="st">&quot;transparent&quot;</span>,</span>
<span id="cb453-24"><a href="tables-and-graphs.html#cb453-24" aria-hidden="true"></a>       <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb453-25"><a href="tables-and-graphs.html#cb453-25" aria-hidden="true"></a>       <span class="kw">c</span>(st_line_<span class="dv">3</span>_y_legend, st_line_<span class="dv">4</span>_y_legend),</span>
<span id="cb453-26"><a href="tables-and-graphs.html#cb453-26" aria-hidden="true"></a>       <span class="dt">col =</span> <span class="kw">c</span>(st_line_<span class="dv">3</span>_black, st_line_<span class="dv">4</span>_purple),</span>
<span id="cb453-27"><a href="tables-and-graphs.html#cb453-27" aria-hidden="true"></a>       <span class="dt">pch =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="ot">NA</span>),</span>
<span id="cb453-28"><a href="tables-and-graphs.html#cb453-28" aria-hidden="true"></a>       <span class="dt">cex =</span> fl_ces_fig_leg,</span>
<span id="cb453-29"><a href="tables-and-graphs.html#cb453-29" aria-hidden="true"></a>       <span class="dt">lty =</span> <span class="kw">c</span>(st_line_<span class="dv">3</span>_lty, st_line_<span class="dv">4</span>_lty),</span>
<span id="cb453-30"><a href="tables-and-graphs.html#cb453-30" aria-hidden="true"></a>       <span class="dt">lwd =</span> <span class="kw">c</span>(st_line_<span class="dv">3</span>_lwd,st_line_<span class="dv">4</span>_lwd),</span>
<span id="cb453-31"><a href="tables-and-graphs.html#cb453-31" aria-hidden="true"></a>       <span class="dt">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="tables-and-graphs.html#cb454-1" aria-hidden="true"></a><span class="co"># record final plot</span></span>
<span id="cb454-2"><a href="tables-and-graphs.html#cb454-2" aria-hidden="true"></a>pl_curves_large &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span>
<span id="cb454-3"><a href="tables-and-graphs.html#cb454-3" aria-hidden="true"></a><span class="kw">dev.off</span>()</span></code></pre></div>
<p>Generate smaller font version:</p>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="tables-and-graphs.html#cb455-1" aria-hidden="true"></a><span class="co"># Replay</span></span>
<span id="cb455-2"><a href="tables-and-graphs.html#cb455-2" aria-hidden="true"></a>pl_curves_save</span>
<span id="cb455-3"><a href="tables-and-graphs.html#cb455-3" aria-hidden="true"></a></span>
<span id="cb455-4"><a href="tables-and-graphs.html#cb455-4" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb455-5"><a href="tables-and-graphs.html#cb455-5" aria-hidden="true"></a><span class="co"># Seventh, Set Title and Legend and Plot Jointly</span></span>
<span id="cb455-6"><a href="tables-and-graphs.html#cb455-6" aria-hidden="true"></a><span class="co">#######################################################</span></span>
<span id="cb455-7"><a href="tables-and-graphs.html#cb455-7" aria-hidden="true"></a><span class="co"># CEX sizing Contorl Titling and Legend Sizes</span></span>
<span id="cb455-8"><a href="tables-and-graphs.html#cb455-8" aria-hidden="true"></a>fl_ces_fig_reg =<span class="st"> </span><span class="fl">0.45</span></span>
<span id="cb455-9"><a href="tables-and-graphs.html#cb455-9" aria-hidden="true"></a>fl_ces_fig_leg =<span class="st"> </span><span class="fl">0.45</span></span>
<span id="cb455-10"><a href="tables-and-graphs.html#cb455-10" aria-hidden="true"></a>fl_ces_fig_small =<span class="st"> </span><span class="fl">0.25</span></span>
<span id="cb455-11"><a href="tables-and-graphs.html#cb455-11" aria-hidden="true"></a></span>
<span id="cb455-12"><a href="tables-and-graphs.html#cb455-12" aria-hidden="true"></a><span class="co"># R Legend</span></span>
<span id="cb455-13"><a href="tables-and-graphs.html#cb455-13" aria-hidden="true"></a><span class="kw">title</span>(<span class="dt">main =</span> st_title, <span class="dt">sub =</span> st_subtitle, <span class="dt">xlab =</span> st_x_label, <span class="dt">ylab =</span> st_y_label,</span>
<span id="cb455-14"><a href="tables-and-graphs.html#cb455-14" aria-hidden="true"></a>      <span class="dt">cex.lab=</span>fl_ces_fig_reg,</span>
<span id="cb455-15"><a href="tables-and-graphs.html#cb455-15" aria-hidden="true"></a>      <span class="dt">cex.main=</span>fl_ces_fig_reg,</span>
<span id="cb455-16"><a href="tables-and-graphs.html#cb455-16" aria-hidden="true"></a>      <span class="dt">cex.sub=</span>fl_ces_fig_small)</span>
<span id="cb455-17"><a href="tables-and-graphs.html#cb455-17" aria-hidden="true"></a><span class="kw">axis</span>(<span class="dv">1</span>, <span class="dt">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb455-18"><a href="tables-and-graphs.html#cb455-18" aria-hidden="true"></a><span class="kw">axis</span>(<span class="dv">2</span>, <span class="dt">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb455-19"><a href="tables-and-graphs.html#cb455-19" aria-hidden="true"></a><span class="kw">grid</span>()</span>
<span id="cb455-20"><a href="tables-and-graphs.html#cb455-20" aria-hidden="true"></a></span>
<span id="cb455-21"><a href="tables-and-graphs.html#cb455-21" aria-hidden="true"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb455-22"><a href="tables-and-graphs.html#cb455-22" aria-hidden="true"></a><span class="kw">legend</span>(<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb455-23"><a href="tables-and-graphs.html#cb455-23" aria-hidden="true"></a>       <span class="dt">bg=</span><span class="st">&quot;transparent&quot;</span>,</span>
<span id="cb455-24"><a href="tables-and-graphs.html#cb455-24" aria-hidden="true"></a>       <span class="dt">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb455-25"><a href="tables-and-graphs.html#cb455-25" aria-hidden="true"></a>       <span class="kw">c</span>(st_line_<span class="dv">3</span>_y_legend, st_line_<span class="dv">4</span>_y_legend),</span>
<span id="cb455-26"><a href="tables-and-graphs.html#cb455-26" aria-hidden="true"></a>       <span class="dt">col =</span> <span class="kw">c</span>(st_line_<span class="dv">3</span>_black, st_line_<span class="dv">4</span>_purple),</span>
<span id="cb455-27"><a href="tables-and-graphs.html#cb455-27" aria-hidden="true"></a>       <span class="dt">pch =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="ot">NA</span>),</span>
<span id="cb455-28"><a href="tables-and-graphs.html#cb455-28" aria-hidden="true"></a>       <span class="dt">cex =</span> fl_ces_fig_leg,</span>
<span id="cb455-29"><a href="tables-and-graphs.html#cb455-29" aria-hidden="true"></a>       <span class="dt">lty =</span> <span class="kw">c</span>(st_line_<span class="dv">3</span>_lty, st_line_<span class="dv">4</span>_lty),</span>
<span id="cb455-30"><a href="tables-and-graphs.html#cb455-30" aria-hidden="true"></a>       <span class="dt">lwd =</span> <span class="kw">c</span>(st_line_<span class="dv">3</span>_lwd,st_line_<span class="dv">4</span>_lwd),</span>
<span id="cb455-31"><a href="tables-and-graphs.html#cb455-31" aria-hidden="true"></a>       <span class="dt">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="tables-and-graphs.html#cb456-1" aria-hidden="true"></a><span class="co"># record final plot</span></span>
<span id="cb456-2"><a href="tables-and-graphs.html#cb456-2" aria-hidden="true"></a>pl_curves_small &lt;-<span class="st"> </span><span class="kw">recordPlot</span>()</span>
<span id="cb456-3"><a href="tables-and-graphs.html#cb456-3" aria-hidden="true"></a><span class="kw">dev.off</span>()</span></code></pre></div>
</div>
<div id="save-plot-with-varying-resolutions-and-heights" class="section level5" number="9.2.1.1.3">
<h5><span class="header-section-number">9.2.1.1.3</span> Save Plot with Varying Resolutions and Heights</h5>
<p>Export recorded plot.</p>
<p>A4 paper is 8.3 x 11.7, with 1 inch margins, the remaining area is 6.3 x 9.7. For figures that should take half of the page, the height should be 4.8 inch. One third of a page should be 3.2 inch. 6.3 inch is 160mm and 3 inch is 76 mm. In the example below, use</p>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="tables-and-graphs.html#cb457-1" aria-hidden="true"></a><span class="co"># Store both in within folder directory and root image directory:</span></span>
<span id="cb457-2"><a href="tables-and-graphs.html#cb457-2" aria-hidden="true"></a><span class="co"># C:\Users\fan\R4Econ\tabgraph\inout\_img</span></span>
<span id="cb457-3"><a href="tables-and-graphs.html#cb457-3" aria-hidden="true"></a><span class="co"># C:\Users\fan\R4Econ\_img</span></span>
<span id="cb457-4"><a href="tables-and-graphs.html#cb457-4" aria-hidden="true"></a><span class="co"># need to store in both because bookdown and indi pdf path differ.</span></span>
<span id="cb457-5"><a href="tables-and-graphs.html#cb457-5" aria-hidden="true"></a><span class="co"># Wrap in try because will not work underbookdown, but images already created</span></span>
<span id="cb457-6"><a href="tables-and-graphs.html#cb457-6" aria-hidden="true"></a></span>
<span id="cb457-7"><a href="tables-and-graphs.html#cb457-7" aria-hidden="true"></a>ls_spt_root &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;..//..//&#39;</span>, <span class="st">&#39;&#39;</span>)</span>
<span id="cb457-8"><a href="tables-and-graphs.html#cb457-8" aria-hidden="true"></a>spt_prefix &lt;-<span class="st"> &#39;_img/fs_img_io_2curve&#39;</span></span>
<span id="cb457-9"><a href="tables-and-graphs.html#cb457-9" aria-hidden="true"></a></span>
<span id="cb457-10"><a href="tables-and-graphs.html#cb457-10" aria-hidden="true"></a><span class="cf">for</span> (spt_root <span class="cf">in</span> ls_spt_root) {</span>
<span id="cb457-11"><a href="tables-and-graphs.html#cb457-11" aria-hidden="true"></a>  <span class="co"># Changing pointsize will not change font sizes inside, just rescale</span></span>
<span id="cb457-12"><a href="tables-and-graphs.html#cb457-12" aria-hidden="true"></a>  <span class="co"># PNG 72</span></span>
<span id="cb457-13"><a href="tables-and-graphs.html#cb457-13" aria-hidden="true"></a>  <span class="kw">try</span>(<span class="kw">png</span>(<span class="kw">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w135h76_res72.png&quot;</span>),</span>
<span id="cb457-14"><a href="tables-and-graphs.html#cb457-14" aria-hidden="true"></a>      <span class="dt">width =</span> <span class="dv">135</span> , <span class="dt">height =</span> <span class="dv">76</span>, <span class="dt">units=</span><span class="st">&#39;mm&#39;</span>, <span class="dt">res =</span> <span class="dv">72</span>, <span class="dt">pointsize=</span><span class="dv">7</span>))</span>
<span id="cb457-15"><a href="tables-and-graphs.html#cb457-15" aria-hidden="true"></a>  <span class="kw">print</span>(pl_curves_large)</span>
<span id="cb457-16"><a href="tables-and-graphs.html#cb457-16" aria-hidden="true"></a>  <span class="kw">dev.off</span>()</span>
<span id="cb457-17"><a href="tables-and-graphs.html#cb457-17" aria-hidden="true"></a>  <span class="co"># PNG 300</span></span>
<span id="cb457-18"><a href="tables-and-graphs.html#cb457-18" aria-hidden="true"></a>  <span class="kw">try</span>(<span class="kw">png</span>(<span class="kw">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w135h76_res300.png&quot;</span>),</span>
<span id="cb457-19"><a href="tables-and-graphs.html#cb457-19" aria-hidden="true"></a>      <span class="dt">width =</span> <span class="dv">135</span>, <span class="dt">height =</span> <span class="dv">76</span>, <span class="dt">units=</span><span class="st">&#39;mm&#39;</span>, <span class="dt">res =</span> <span class="dv">300</span>, <span class="dt">pointsize=</span><span class="dv">7</span>))</span>
<span id="cb457-20"><a href="tables-and-graphs.html#cb457-20" aria-hidden="true"></a>  <span class="kw">print</span>(pl_curves_large)</span>
<span id="cb457-21"><a href="tables-and-graphs.html#cb457-21" aria-hidden="true"></a>  <span class="kw">dev.off</span>()</span>
<span id="cb457-22"><a href="tables-and-graphs.html#cb457-22" aria-hidden="true"></a>  <span class="co"># PNG 300, SMALL, POINT SIZE LOWER</span></span>
<span id="cb457-23"><a href="tables-and-graphs.html#cb457-23" aria-hidden="true"></a>  <span class="kw">try</span>(<span class="kw">png</span>(<span class="kw">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w80h48_res300.png&quot;</span>),</span>
<span id="cb457-24"><a href="tables-and-graphs.html#cb457-24" aria-hidden="true"></a>      <span class="dt">width =</span> <span class="dv">80</span>, <span class="dt">height =</span> <span class="dv">48</span>, <span class="dt">units=</span><span class="st">&#39;mm&#39;</span>, <span class="dt">res =</span> <span class="dv">300</span>, <span class="dt">pointsize=</span><span class="dv">7</span>))</span>
<span id="cb457-25"><a href="tables-and-graphs.html#cb457-25" aria-hidden="true"></a>  <span class="kw">print</span>(pl_curves_small)</span>
<span id="cb457-26"><a href="tables-and-graphs.html#cb457-26" aria-hidden="true"></a>  <span class="kw">dev.off</span>()</span>
<span id="cb457-27"><a href="tables-and-graphs.html#cb457-27" aria-hidden="true"></a>  <span class="co"># PNG 300</span></span>
<span id="cb457-28"><a href="tables-and-graphs.html#cb457-28" aria-hidden="true"></a>  <span class="kw">try</span>(<span class="kw">png</span>(<span class="kw">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w160h100_res300.png&quot;</span>),</span>
<span id="cb457-29"><a href="tables-and-graphs.html#cb457-29" aria-hidden="true"></a>      <span class="dt">width =</span> <span class="dv">160</span>, <span class="dt">height =</span> <span class="dv">100</span>, <span class="dt">units=</span><span class="st">&#39;mm&#39;</span>, <span class="dt">res =</span> <span class="dv">300</span>))</span>
<span id="cb457-30"><a href="tables-and-graphs.html#cb457-30" aria-hidden="true"></a>  <span class="kw">print</span>(pl_curves_large)</span>
<span id="cb457-31"><a href="tables-and-graphs.html#cb457-31" aria-hidden="true"></a>  <span class="kw">dev.off</span>()</span>
<span id="cb457-32"><a href="tables-and-graphs.html#cb457-32" aria-hidden="true"></a></span>
<span id="cb457-33"><a href="tables-and-graphs.html#cb457-33" aria-hidden="true"></a>  <span class="co"># EPS</span></span>
<span id="cb457-34"><a href="tables-and-graphs.html#cb457-34" aria-hidden="true"></a>  <span class="kw">setEPS</span>()</span>
<span id="cb457-35"><a href="tables-and-graphs.html#cb457-35" aria-hidden="true"></a>  <span class="kw">try</span>(<span class="kw">postscript</span>(<span class="kw">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_fs_2curve.eps&quot;</span>)))</span>
<span id="cb457-36"><a href="tables-and-graphs.html#cb457-36" aria-hidden="true"></a>  <span class="kw">print</span>(pl_curves_large)</span>
<span id="cb457-37"><a href="tables-and-graphs.html#cb457-37" aria-hidden="true"></a>  <span class="kw">dev.off</span>()</span>
<span id="cb457-38"><a href="tables-and-graphs.html#cb457-38" aria-hidden="true"></a>}</span></code></pre></div>
<pre><code>## Error in png(paste0(spt_root, spt_prefix, &quot;_w135h76_res72.png&quot;), width = 135,  : 
##   unable to start png() device
## Error in png(paste0(spt_root, spt_prefix, &quot;_w135h76_res300.png&quot;), width = 135,  : 
##   unable to start png() device
## Error in png(paste0(spt_root, spt_prefix, &quot;_w80h48_res300.png&quot;), width = 80,  : 
##   unable to start png() device
## Error in png(paste0(spt_root, spt_prefix, &quot;_w160h100_res300.png&quot;), width = 160,  : 
##   unable to start png() device
## Error in postscript(paste0(spt_root, spt_prefix, &quot;_fs_2curve.eps&quot;)) : 
##   cannot open file &#39;..//..//_img/fs_img_io_2curve_fs_2curve.eps&#39;</code></pre>
</div>
<div id="low-and-high-resolution-figure" class="section level5" number="9.2.1.1.4">
<h5><span class="header-section-number">9.2.1.1.4</span> Low and High Resolution Figure</h5>
<p>The standard resolution often produces very low quality images. Resolution should be increased. See figure comparison.</p>
<center>
<img src="_img/fs_img_io_2curve_w135h76_res72.png" height="304mm" width="540mm" style="float:center">
</center>
<br />
<center>
<img src="_img/fs_img_io_2curve_w135h76_res300.png" height="304mm" width="540mm" style="float:center">
</center>
</div>
<div id="smaller-and-larger-figures" class="section level5" number="9.2.1.1.5">
<h5><span class="header-section-number">9.2.1.1.5</span> Smaller and Larger Figures</h5>
<p>Smaller and larger figures with different font size comparison. Note that earlier, we generated the figure without legends, labels, etc first, recorded the figure. Then we associated the same underlying figure with differently sized titles, legends, axis, labels.</p>
<center>
<img src="_img/fs_img_io_2curve_w80h48_res300.png" height="192mm" width="320mm" style="float:center">
</center>
<br />
<center>
<img src="_img/fs_img_io_2curve_w160h100_res300.png" height="400mm" width="640mm" style="float:center">
</center>

</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mathmatics-and-statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="get-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["Panel-Data-and-Optimization-with-R.pdf", "PDF"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
