<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 Tables and Graphs | Data Structures, Estimation and Optimization with R</title>
  <meta name="description" content="<p>Run system executable and shell commands.
Activate conda environment with shell script.</p>" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 Tables and Graphs | Data Structures, Estimation and Optimization with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="<p>Run system executable and shell commands.
Activate conda environment with shell script.</p>" />
  <meta name="github-repo" content="fanwangecon/R4Econ" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 Tables and Graphs | Data Structures, Estimation and Optimization with R" />
  
  <meta name="twitter:description" content="<p>Run system executable and shell commands.
Activate conda environment with shell script.</p>" />
  

<meta name="author" content="Fan Wang" />


<meta name="date" content="2021-02-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="mathmatics-and-statistics.html"/>
<link rel="next" href="get-data.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-92953468-5');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Structures and Estimation with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html"><i class="fa fa-check"></i><b>1</b> Array, Matrix, Dataframe</a>
<ul>
<li class="chapter" data-level="1.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#list"><i class="fa fa-check"></i><b>1.1</b> List</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#lists"><i class="fa fa-check"></i><b>1.1.1</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#array"><i class="fa fa-check"></i><b>1.2</b> Array</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#array-basics"><i class="fa fa-check"></i><b>1.2.1</b> Array Basics</a></li>
<li class="chapter" data-level="1.2.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-arrays"><i class="fa fa-check"></i><b>1.2.2</b> Generate Arrays</a></li>
<li class="chapter" data-level="1.2.3" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#string-arrays"><i class="fa fa-check"></i><b>1.2.3</b> String Arrays</a></li>
<li class="chapter" data-level="1.2.4" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#mesh-matrices-arrays-and-scalars"><i class="fa fa-check"></i><b>1.2.4</b> Mesh Matrices, Arrays and Scalars</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#matrix"><i class="fa fa-check"></i><b>1.3</b> Matrix</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-matrixes"><i class="fa fa-check"></i><b>1.3.1</b> Generate Matrixes</a></li>
<li class="chapter" data-level="1.3.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#linear-algebra"><i class="fa fa-check"></i><b>1.3.2</b> Linear Algebra</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#variables-in-dataframes"><i class="fa fa-check"></i><b>1.4</b> Variables in Dataframes</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-dataframe"><i class="fa fa-check"></i><b>1.4.1</b> Generate Dataframe</a></li>
<li class="chapter" data-level="1.4.2" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#factor-label-and-combine"><i class="fa fa-check"></i><b>1.4.2</b> Factor Label and Combine</a></li>
<li class="chapter" data-level="1.4.3" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#drawly-random-rows"><i class="fa fa-check"></i><b>1.4.3</b> Drawly Random Rows</a></li>
<li class="chapter" data-level="1.4.4" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#generate-variables-conditional-on-others"><i class="fa fa-check"></i><b>1.4.4</b> Generate Variables Conditional On Others</a></li>
<li class="chapter" data-level="1.4.5" data-path="array-matrix-dataframe.html"><a href="array-matrix-dataframe.html#string-dataframes"><i class="fa fa-check"></i><b>1.4.5</b> String Dataframes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="summarize-data.html"><a href="summarize-data.html"><i class="fa fa-check"></i><b>2</b> Summarize Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="summarize-data.html"><a href="summarize-data.html#counting-observation"><i class="fa fa-check"></i><b>2.1</b> Counting Observation</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="summarize-data.html"><a href="summarize-data.html#uncount"><i class="fa fa-check"></i><b>2.1.1</b> Uncount</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="summarize-data.html"><a href="summarize-data.html#sorting-indexing-slicing"><i class="fa fa-check"></i><b>2.2</b> Sorting, Indexing, Slicing</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="summarize-data.html"><a href="summarize-data.html#sorting"><i class="fa fa-check"></i><b>2.2.1</b> Sorting</a></li>
<li class="chapter" data-level="2.2.2" data-path="summarize-data.html"><a href="summarize-data.html#group-sort-and-slice"><i class="fa fa-check"></i><b>2.2.2</b> Group, Sort and Slice</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="summarize-data.html"><a href="summarize-data.html#group-statistics"><i class="fa fa-check"></i><b>2.3</b> Group Statistics</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="summarize-data.html"><a href="summarize-data.html#cumulative-statistics-within-group"><i class="fa fa-check"></i><b>2.3.1</b> Cumulative Statistics within Group</a></li>
<li class="chapter" data-level="2.3.2" data-path="summarize-data.html"><a href="summarize-data.html#groups-statistics"><i class="fa fa-check"></i><b>2.3.2</b> Groups Statistics</a></li>
<li class="chapter" data-level="2.3.3" data-path="summarize-data.html"><a href="summarize-data.html#one-variable-group-summary"><i class="fa fa-check"></i><b>2.3.3</b> One Variable Group Summary</a></li>
<li class="chapter" data-level="2.3.4" data-path="summarize-data.html"><a href="summarize-data.html#nested-within-group-stats"><i class="fa fa-check"></i><b>2.3.4</b> Nested within Group Stats</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="summarize-data.html"><a href="summarize-data.html#distributional-statistics"><i class="fa fa-check"></i><b>2.4</b> Distributional Statistics</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="summarize-data.html"><a href="summarize-data.html#histogram"><i class="fa fa-check"></i><b>2.4.1</b> Histogram</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="summarize-data.html"><a href="summarize-data.html#summarize-multiple-variables"><i class="fa fa-check"></i><b>2.5</b> Summarize Multiple Variables</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="summarize-data.html"><a href="summarize-data.html#generate-replace-variables"><i class="fa fa-check"></i><b>2.5.1</b> Generate Replace Variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a>
<ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#dataframe-mutate"><i class="fa fa-check"></i><b>3.1</b> Dataframe Mutate</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="functions.html"><a href="functions.html#row-input-functions"><i class="fa fa-check"></i><b>3.1.1</b> Row Input Functions</a></li>
<li class="chapter" data-level="3.1.2" data-path="functions.html"><a href="functions.html#evaluate-choices-across-states"><i class="fa fa-check"></i><b>3.1.2</b> Evaluate Choices Across States</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#dataframe-do-anything"><i class="fa fa-check"></i><b>3.2</b> Dataframe Do Anything</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="functions.html"><a href="functions.html#mx1-by-n-to-mxq-by-n1"><i class="fa fa-check"></i><b>3.2.1</b> (Mx1 by N) to (MxQ by N+1)</a></li>
<li class="chapter" data-level="3.2.2" data-path="functions.html"><a href="functions.html#mxp-by-n-to-mx1-by-1"><i class="fa fa-check"></i><b>3.2.2</b> (MxP by N) to (Mx1 by 1)</a></li>
<li class="chapter" data-level="3.2.3" data-path="functions.html"><a href="functions.html#mxp-by-n-to-mxq-by-nz"><i class="fa fa-check"></i><b>3.2.3</b> (MxP by N) to (MxQ by N+Z)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#apply-and-pmap"><i class="fa fa-check"></i><b>3.3</b> Apply and pmap</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="functions.html"><a href="functions.html#apply-and-sapply"><i class="fa fa-check"></i><b>3.3.1</b> Apply and Sapply</a></li>
<li class="chapter" data-level="3.3.2" data-path="functions.html"><a href="functions.html#mutate-evaluate-functions"><i class="fa fa-check"></i><b>3.3.2</b> Mutate Evaluate Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html"><i class="fa fa-check"></i><b>4</b> Multi-dimensional Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#generate-gather-bind-and-join"><i class="fa fa-check"></i><b>4.1</b> Generate, Gather, Bind and Join</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#generate-panel-structure"><i class="fa fa-check"></i><b>4.1.1</b> Generate Panel Structure</a></li>
<li class="chapter" data-level="4.1.2" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#join-datasets"><i class="fa fa-check"></i><b>4.1.2</b> Join Datasets</a></li>
<li class="chapter" data-level="4.1.3" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#gather-files"><i class="fa fa-check"></i><b>4.1.3</b> Gather Files</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#wide-and-long"><i class="fa fa-check"></i><b>4.2</b> Wide and Long</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#long-to-wide"><i class="fa fa-check"></i><b>4.2.1</b> Long to Wide</a></li>
<li class="chapter" data-level="4.2.2" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#wide-to-long"><i class="fa fa-check"></i><b>4.2.2</b> Wide to Long</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#join-and-compare"><i class="fa fa-check"></i><b>4.3</b> Join and Compare</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="multi-dimensional-data-structures.html"><a href="multi-dimensional-data-structures.html#find-closest-neighbor-on-grid"><i class="fa fa-check"></i><b>4.3.1</b> Find Closest Neighbor on Grid</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>5</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="5.1" data-path="linear-regression.html"><a href="linear-regression.html#ols-and-iv"><i class="fa fa-check"></i><b>5.1</b> OLS and IV</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="linear-regression.html"><a href="linear-regression.html#ols-and-iv-regression"><i class="fa fa-check"></i><b>5.1.1</b> OLS and IV Regression</a></li>
<li class="chapter" data-level="5.1.2" data-path="linear-regression.html"><a href="linear-regression.html#iv-loop-over-rhs"><i class="fa fa-check"></i><b>5.1.2</b> IV Loop over RHS</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="linear-regression.html"><a href="linear-regression.html#decomposition"><i class="fa fa-check"></i><b>5.2</b> Decomposition</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="linear-regression.html"><a href="linear-regression.html#decompose-rhs"><i class="fa fa-check"></i><b>5.2.1</b> Decompose RHS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="nonlinear-and-other-regressions.html"><a href="nonlinear-and-other-regressions.html"><i class="fa fa-check"></i><b>6</b> Nonlinear and Other Regressions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="nonlinear-and-other-regressions.html"><a href="nonlinear-and-other-regressions.html#logit-regression"><i class="fa fa-check"></i><b>6.1</b> Logit Regression</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="nonlinear-and-other-regressions.html"><a href="nonlinear-and-other-regressions.html#binary-logit"><i class="fa fa-check"></i><b>6.1.1</b> Binary Logit</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="nonlinear-and-other-regressions.html"><a href="nonlinear-and-other-regressions.html#quantile-regression"><i class="fa fa-check"></i><b>6.2</b> Quantile Regression</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="nonlinear-and-other-regressions.html"><a href="nonlinear-and-other-regressions.html#quantile-regression-basics"><i class="fa fa-check"></i><b>6.2.1</b> Quantile Regression Basics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>7</b> Optimization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="optimization.html"><a href="optimization.html#bisection"><i class="fa fa-check"></i><b>7.1</b> Bisection</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="optimization.html"><a href="optimization.html#bisection-1"><i class="fa fa-check"></i><b>7.1.1</b> Bisection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html"><i class="fa fa-check"></i><b>8</b> Mathmatics and Statistics</a>
<ul>
<li class="chapter" data-level="8.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#distributions"><i class="fa fa-check"></i><b>8.1</b> Distributions</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#integrate-over-normal-guassian-process-shock"><i class="fa fa-check"></i><b>8.1.1</b> Integrate Over Normal Guassian Process Shock</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#analytical-solutions"><i class="fa fa-check"></i><b>8.2</b> Analytical Solutions</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#linear-scalar-fx0-solutions"><i class="fa fa-check"></i><b>8.2.1</b> Linear Scalar f(x)=0 Solutions</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#inequality-models"><i class="fa fa-check"></i><b>8.3</b> Inequality Models</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#gini-discrete-sample"><i class="fa fa-check"></i><b>8.3.1</b> Gini Discrete Sample</a></li>
<li class="chapter" data-level="8.3.2" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#atkinson-inequality-index"><i class="fa fa-check"></i><b>8.3.2</b> Atkinson Inequality Index</a></li>
<li class="chapter" data-level="8.3.3" data-path="mathmatics-and-statistics.html"><a href="mathmatics-and-statistics.html#location-population-and-pollution"><i class="fa fa-check"></i><b>8.3.3</b> Location, Population, and Pollution</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html"><i class="fa fa-check"></i><b>9</b> Tables and Graphs</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#r-base-plots"><i class="fa fa-check"></i><b>9.1</b> R Base Plots</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#plot-curve-line-and-points"><i class="fa fa-check"></i><b>9.1.1</b> Plot Curve, Line and Points</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#ggplot-line-related-plots"><i class="fa fa-check"></i><b>9.2</b> GGplot Line Related Plots</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#continuous-outcome-with-multiple-categorical-variables"><i class="fa fa-check"></i><b>9.2.1</b> Continuous Outcome with Multiple Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#write-and-read-plots"><i class="fa fa-check"></i><b>9.3</b> Write and Read Plots</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="tables-and-graphs.html"><a href="tables-and-graphs.html#import-and-export-images"><i class="fa fa-check"></i><b>9.3.1</b> Import and Export Images</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="get-data.html"><a href="get-data.html"><i class="fa fa-check"></i><b>10</b> Get Data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="get-data.html"><a href="get-data.html#environmental-data"><i class="fa fa-check"></i><b>10.1</b> Environmental Data</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="get-data.html"><a href="get-data.html#ecmwf-era5-data"><i class="fa fa-check"></i><b>10.1.1</b> ECMWF ERA5 Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="code-and-development.html"><a href="code-and-development.html"><i class="fa fa-check"></i><b>11</b> Code and Development</a>
<ul>
<li class="chapter" data-level="11.1" data-path="code-and-development.html"><a href="code-and-development.html#files-in-and-out"><i class="fa fa-check"></i><b>11.1</b> Files In and Out</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="code-and-development.html"><a href="code-and-development.html#file-path"><i class="fa fa-check"></i><b>11.1.1</b> File Path</a></li>
<li class="chapter" data-level="11.1.2" data-path="code-and-development.html"><a href="code-and-development.html#text-to-file"><i class="fa fa-check"></i><b>11.1.2</b> Text to File</a></li>
<li class="chapter" data-level="11.1.3" data-path="code-and-development.html"><a href="code-and-development.html#rmd-to-html"><i class="fa fa-check"></i><b>11.1.3</b> Rmd to HTML</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="code-and-development.html"><a href="code-and-development.html#python-with-r"><i class="fa fa-check"></i><b>11.2</b> Python with R</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="code-and-development.html"><a href="code-and-development.html#reticulate-basics"><i class="fa fa-check"></i><b>11.2.1</b> Reticulate Basics</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="code-and-development.html"><a href="code-and-development.html#command-line"><i class="fa fa-check"></i><b>11.3</b> Command Line</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="code-and-development.html"><a href="code-and-development.html#shell-and-system-commands"><i class="fa fa-check"></i><b>11.3.1</b> Shell and System Commands</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="index-and-code-links.html"><a href="index-and-code-links.html"><i class="fa fa-check"></i><b>A</b> Index and Code Links</a>
<ul>
<li class="chapter" data-level="A.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#array-matrix-dataframe-links"><i class="fa fa-check"></i><b>A.1</b> Array, Matrix, Dataframe links</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.1-listlist-links"><i class="fa fa-check"></i><b>A.1.1</b> <span>Section 1.1 List</span> links</a></li>
<li class="chapter" data-level="A.1.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.2-arrayarray-links"><i class="fa fa-check"></i><b>A.1.2</b> <span>Section 1.2 Array</span> links</a></li>
<li class="chapter" data-level="A.1.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.3-matrixmatrix-links"><i class="fa fa-check"></i><b>A.1.3</b> <span>Section 1.3 Matrix</span> links</a></li>
<li class="chapter" data-level="A.1.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-1.4-variables-in-dataframesvariables-in-dataframes-links"><i class="fa fa-check"></i><b>A.1.4</b> <span>Section 1.4 Variables in Dataframes</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#summarize-data-links"><i class="fa fa-check"></i><b>A.2</b> Summarize Data links</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.1-counting-observationcounting-observation-links"><i class="fa fa-check"></i><b>A.2.1</b> <span>Section 2.1 Counting Observation</span> links</a></li>
<li class="chapter" data-level="A.2.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.2-sorting-indexing-slicingsorting-indexing-slicing-links"><i class="fa fa-check"></i><b>A.2.2</b> <span>Section 2.2 Sorting, Indexing, Slicing</span> links</a></li>
<li class="chapter" data-level="A.2.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.3-group-statisticsgroup-statistics-links"><i class="fa fa-check"></i><b>A.2.3</b> <span>Section 2.3 Group Statistics</span> links</a></li>
<li class="chapter" data-level="A.2.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.4-distributional-statisticsdistributional-statistics-links"><i class="fa fa-check"></i><b>A.2.4</b> <span>Section 2.4 Distributional Statistics</span> links</a></li>
<li class="chapter" data-level="A.2.5" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-2.5-summarize-multiple-variablessummarize-multiple-variables-links"><i class="fa fa-check"></i><b>A.2.5</b> <span>Section 2.5 Summarize Multiple Variables</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#functions-links"><i class="fa fa-check"></i><b>A.3</b> Functions links</a>
<ul>
<li class="chapter" data-level="A.3.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.1-dataframe-mutatedataframe-mutate-links"><i class="fa fa-check"></i><b>A.3.1</b> <span>Section 3.1 Dataframe Mutate</span> links</a></li>
<li class="chapter" data-level="A.3.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.2-dataframe-do-anythingdataframe-do-anything-links"><i class="fa fa-check"></i><b>A.3.2</b> <span>Section 3.2 Dataframe Do Anything</span> links</a></li>
<li class="chapter" data-level="A.3.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-3.3-apply-and-pmapapply-and-pmap-links"><i class="fa fa-check"></i><b>A.3.3</b> <span>Section 3.3 Apply and pmap</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.4" data-path="index-and-code-links.html"><a href="index-and-code-links.html#multi-dimensional-data-structures-links"><i class="fa fa-check"></i><b>A.4</b> Multi-dimensional Data Structures links</a>
<ul>
<li class="chapter" data-level="A.4.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-4.1-generate-gather-bind-and-joingenerate-gather-bind-and-join-links"><i class="fa fa-check"></i><b>A.4.1</b> <span>Section 4.1 Generate, Gather, Bind and Join</span> links</a></li>
<li class="chapter" data-level="A.4.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-4.2-wide-and-longwide-and-long-links"><i class="fa fa-check"></i><b>A.4.2</b> <span>Section 4.2 Wide and Long</span> links</a></li>
<li class="chapter" data-level="A.4.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-4.3-join-and-comparejoin-and-compare-links"><i class="fa fa-check"></i><b>A.4.3</b> <span>Section 4.3 Join and Compare</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.5" data-path="index-and-code-links.html"><a href="index-and-code-links.html#linear-regression-links"><i class="fa fa-check"></i><b>A.5</b> Linear Regression links</a>
<ul>
<li class="chapter" data-level="A.5.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-5.1-ols-and-ivols-and-iv-links"><i class="fa fa-check"></i><b>A.5.1</b> <span>Section 5.1 OLS and IV</span> links</a></li>
<li class="chapter" data-level="A.5.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-5.2-decompositiondecomposition-links"><i class="fa fa-check"></i><b>A.5.2</b> <span>Section 5.2 Decomposition</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.6" data-path="index-and-code-links.html"><a href="index-and-code-links.html#nonlinear-and-other-regressions-links"><i class="fa fa-check"></i><b>A.6</b> Nonlinear and Other Regressions links</a>
<ul>
<li class="chapter" data-level="A.6.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.1-logit-regressionlogit-regression-links"><i class="fa fa-check"></i><b>A.6.1</b> <span>Section 6.1 Logit Regression</span> links</a></li>
<li class="chapter" data-level="A.6.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-6.2-quantile-regressionquantile-regression-links"><i class="fa fa-check"></i><b>A.6.2</b> <span>Section 6.2 Quantile Regression</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.7" data-path="index-and-code-links.html"><a href="index-and-code-links.html#optimization-links"><i class="fa fa-check"></i><b>A.7</b> Optimization links</a>
<ul>
<li class="chapter" data-level="A.7.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-7.1-bisectionbisection-links"><i class="fa fa-check"></i><b>A.7.1</b> <span>Section 7.1 Bisection</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.8" data-path="index-and-code-links.html"><a href="index-and-code-links.html#mathmatics-and-statistics-links"><i class="fa fa-check"></i><b>A.8</b> Mathmatics and Statistics links</a>
<ul>
<li class="chapter" data-level="A.8.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.1-distributionsdistributions-links"><i class="fa fa-check"></i><b>A.8.1</b> <span>Section 8.1 Distributions</span> links</a></li>
<li class="chapter" data-level="A.8.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.2-analytical-solutionsanalytical-solutions-links"><i class="fa fa-check"></i><b>A.8.2</b> <span>Section 8.2 Analytical Solutions</span> links</a></li>
<li class="chapter" data-level="A.8.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-8.3-inequality-modelsinequality-models-links"><i class="fa fa-check"></i><b>A.8.3</b> <span>Section 8.3 Inequality Models</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.9" data-path="index-and-code-links.html"><a href="index-and-code-links.html#tables-and-graphs-links"><i class="fa fa-check"></i><b>A.9</b> Tables and Graphs links</a>
<ul>
<li class="chapter" data-level="A.9.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.1-r-base-plotsr-base-plots-links"><i class="fa fa-check"></i><b>A.9.1</b> <span>Section 9.1 R Base Plots</span> links</a></li>
<li class="chapter" data-level="A.9.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.2-ggplot-line-related-plotsggplot-line-related-plots-links"><i class="fa fa-check"></i><b>A.9.2</b> <span>Section 9.2 GGplot Line Related Plots</span> links</a></li>
<li class="chapter" data-level="A.9.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-9.3-write-and-read-plotswrite-and-read-plots-links"><i class="fa fa-check"></i><b>A.9.3</b> <span>Section 9.3 Write and Read Plots</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.10" data-path="index-and-code-links.html"><a href="index-and-code-links.html#get-data-links"><i class="fa fa-check"></i><b>A.10</b> Get Data links</a>
<ul>
<li class="chapter" data-level="A.10.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-10.1-environmental-dataenvironmental-data-links"><i class="fa fa-check"></i><b>A.10.1</b> <span>Section 10.1 Environmental Data</span> links</a></li>
</ul></li>
<li class="chapter" data-level="A.11" data-path="index-and-code-links.html"><a href="index-and-code-links.html#code-and-development-links"><i class="fa fa-check"></i><b>A.11</b> Code and Development links</a>
<ul>
<li class="chapter" data-level="A.11.1" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-11.1-files-in-and-outfiles-in-and-out-links"><i class="fa fa-check"></i><b>A.11.1</b> <span>Section 11.1 Files In and Out</span> links</a></li>
<li class="chapter" data-level="A.11.2" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-11.2-python-with-rpython-with-r-links"><i class="fa fa-check"></i><b>A.11.2</b> <span>Section 11.2 Python with R</span> links</a></li>
<li class="chapter" data-level="A.11.3" data-path="index-and-code-links.html"><a href="index-and-code-links.html#section-11.3-command-linecommand-line-links"><i class="fa fa-check"></i><b>A.11.3</b> <span>Section 11.3 Command Line</span> links</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://fanwangecon.github.io/R4Econ/bookdown/index.html" target="blank">R4Econ Bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Structures, Estimation and Optimization with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tables-and-graphs" class="section level1" number="9">
<h1><span class="header-section-number">Chapter 9</span> Tables and Graphs</h1>

<div id="r-base-plots" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> R Base Plots</h2>

<div id="plot-curve-line-and-points" class="section level3" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Plot Curve, Line and Points</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/REconTools/">REconTools</a> Package, <a href="https://fanwangecon.github.io/R4Econ/">R Code Examples</a> Repository (<a href="https://fanwangecon.github.io/R4Econ/bookdown">bookdown site</a>), or <a href="https://fanwangecon.github.io/Stat4Econ/">Intro Stats with R</a> Repository (<a href="https://fanwangecon.github.io/Stat4Econ/bookdown">bookdown site</a>).</p>
</blockquote>
<p>Work with the R plot function.</p>
<div id="one-point-one-line-and-two-curves" class="section level4" number="9.1.1.1">
<h4><span class="header-section-number">9.1.1.1</span> One Point, One Line and Two Curves</h4>
<ul>
<li>r curve on top of plot</li>
<li>r plot specify pch lty both scatter and line</li>
<li>r legend outside</li>
</ul>
<p>Jointly plot:</p>
<ul>
<li>1 scatter plot</li>
<li>1 line plot</li>
<li>2 function curve plots</li>
</ul>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="tables-and-graphs.html#cb484-1" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-2"><a href="tables-and-graphs.html#cb484-2" aria-hidden="true" tabindex="-1"></a><span class="co"># First, Some common Labels:</span></span>
<span id="cb484-3"><a href="tables-and-graphs.html#cb484-3" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-4"><a href="tables-and-graphs.html#cb484-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Labeling</span></span>
<span id="cb484-5"><a href="tables-and-graphs.html#cb484-5" aria-hidden="true" tabindex="-1"></a>st_title <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;Scatter, Line and Curve Joint Ploting Example Using Base R</span><span class="sc">\n</span><span class="st">&#39;</span>,</span>
<span id="cb484-6"><a href="tables-and-graphs.html#cb484-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&#39;plot() + curve(): x*sin(x), cos(x), sin(x)*cos(x), sin(x)+tan(x)+cos(x)&#39;</span>)</span>
<span id="cb484-7"><a href="tables-and-graphs.html#cb484-7" aria-hidden="true" tabindex="-1"></a>st_subtitle <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;https://fanwangecon.github.io/&#39;</span>,</span>
<span id="cb484-8"><a href="tables-and-graphs.html#cb484-8" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&#39;R4Econ/tabgraph/inout/htmlpdfr/fs_base_curve.html&#39;</span>)</span>
<span id="cb484-9"><a href="tables-and-graphs.html#cb484-9" aria-hidden="true" tabindex="-1"></a>st_x_label <span class="ot">&lt;-</span> <span class="st">&#39;x&#39;</span></span>
<span id="cb484-10"><a href="tables-and-graphs.html#cb484-10" aria-hidden="true" tabindex="-1"></a>st_y_label <span class="ot">&lt;-</span> <span class="st">&#39;f(x)&#39;</span></span>
<span id="cb484-11"><a href="tables-and-graphs.html#cb484-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-12"><a href="tables-and-graphs.html#cb484-12" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-13"><a href="tables-and-graphs.html#cb484-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, Generate the Graphs Functions and data points:</span></span>
<span id="cb484-14"><a href="tables-and-graphs.html#cb484-14" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-15"><a href="tables-and-graphs.html#cb484-15" aria-hidden="true" tabindex="-1"></a><span class="co"># x only used for Point 1 and Line 1</span></span>
<span id="cb484-16"><a href="tables-and-graphs.html#cb484-16" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">1</span><span class="sc">*</span>pi, <span class="dv">1</span><span class="sc">*</span>pi, <span class="at">length.out=</span><span class="dv">25</span>)</span>
<span id="cb484-17"><a href="tables-and-graphs.html#cb484-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Line (Point) 1: Generate X and Y</span></span>
<span id="cb484-18"><a href="tables-and-graphs.html#cb484-18" aria-hidden="true" tabindex="-1"></a>y1 <span class="ot">&lt;-</span> x<span class="sc">*</span><span class="fu">sin</span>(x)</span>
<span id="cb484-19"><a href="tables-and-graphs.html#cb484-19" aria-hidden="true" tabindex="-1"></a>st_point_1_y_legend <span class="ot">&lt;-</span> <span class="st">&#39;x*sin(x)&#39;</span></span>
<span id="cb484-20"><a href="tables-and-graphs.html#cb484-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Line 2: Line Plot</span></span>
<span id="cb484-21"><a href="tables-and-graphs.html#cb484-21" aria-hidden="true" tabindex="-1"></a>y2 <span class="ot">&lt;-</span> <span class="fu">cos</span>(x)</span>
<span id="cb484-22"><a href="tables-and-graphs.html#cb484-22" aria-hidden="true" tabindex="-1"></a>st_line_2_y_legend <span class="ot">&lt;-</span> <span class="st">&#39;cos(x)&#39;</span></span>
<span id="cb484-23"><a href="tables-and-graphs.html#cb484-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Line 3: Function</span></span>
<span id="cb484-24"><a href="tables-and-graphs.html#cb484-24" aria-hidden="true" tabindex="-1"></a>fc_sin_cos_diff <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">sin</span>(x)<span class="sc">*</span><span class="fu">cos</span>(x)</span>
<span id="cb484-25"><a href="tables-and-graphs.html#cb484-25" aria-hidden="true" tabindex="-1"></a>st_line_3_y_legend <span class="ot">&lt;-</span> <span class="st">&#39;sin(x)*cos(x)&#39;</span></span>
<span id="cb484-26"><a href="tables-and-graphs.html#cb484-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Line 4: Function</span></span>
<span id="cb484-27"><a href="tables-and-graphs.html#cb484-27" aria-hidden="true" tabindex="-1"></a>fc_sin_cos_tan <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">sin</span>(x) <span class="sc">+</span> <span class="fu">cos</span>(x) <span class="sc">+</span> <span class="fu">tan</span>(x)</span>
<span id="cb484-28"><a href="tables-and-graphs.html#cb484-28" aria-hidden="true" tabindex="-1"></a>st_line_4_y_legend <span class="ot">&lt;-</span> <span class="st">&#39;sin(x) + tan(x) + cos(x)&#39;</span></span>
<span id="cb484-29"><a href="tables-and-graphs.html#cb484-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-30"><a href="tables-and-graphs.html#cb484-30" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-31"><a href="tables-and-graphs.html#cb484-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Third, set:</span></span>
<span id="cb484-32"><a href="tables-and-graphs.html#cb484-32" aria-hidden="true" tabindex="-1"></a><span class="co"># - point shape and size: *pch* and *cex*</span></span>
<span id="cb484-33"><a href="tables-and-graphs.html#cb484-33" aria-hidden="true" tabindex="-1"></a><span class="co"># - line type and width: *lty* and *lwd*</span></span>
<span id="cb484-34"><a href="tables-and-graphs.html#cb484-34" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-35"><a href="tables-and-graphs.html#cb484-35" aria-hidden="true" tabindex="-1"></a><span class="co"># http://www.sthda.com/english/wiki/r-plot-pch-symbols-the-different-point-shapes-available-in-r</span></span>
<span id="cb484-36"><a href="tables-and-graphs.html#cb484-36" aria-hidden="true" tabindex="-1"></a><span class="co"># http://www.sthda.com/english/wiki/line-types-in-r-lty</span></span>
<span id="cb484-37"><a href="tables-and-graphs.html#cb484-37" aria-hidden="true" tabindex="-1"></a><span class="co"># for colors, see: https://fanwangecon.github.io/M4Econ/graph/tools/fs_color.html</span></span>
<span id="cb484-38"><a href="tables-and-graphs.html#cb484-38" aria-hidden="true" tabindex="-1"></a>st_point_1_blue <span class="ot">&lt;-</span> <span class="fu">rgb</span>(<span class="dv">57</span><span class="sc">/</span><span class="dv">255</span>,<span class="dv">106</span><span class="sc">/</span><span class="dv">255</span>,<span class="dv">177</span><span class="sc">/</span><span class="dv">255</span>)</span>
<span id="cb484-39"><a href="tables-and-graphs.html#cb484-39" aria-hidden="true" tabindex="-1"></a>st_line_2_red <span class="ot">&lt;-</span> <span class="fu">rgb</span>(<span class="dv">204</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">37</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">41</span><span class="sc">/</span><span class="dv">255</span>,)</span>
<span id="cb484-40"><a href="tables-and-graphs.html#cb484-40" aria-hidden="true" tabindex="-1"></a>st_line_3_black <span class="ot">&lt;-</span> <span class="st">&#39;black&#39;</span></span>
<span id="cb484-41"><a href="tables-and-graphs.html#cb484-41" aria-hidden="true" tabindex="-1"></a>st_line_4_purple <span class="ot">&lt;-</span> <span class="st">&#39;orange&#39;</span></span>
<span id="cb484-42"><a href="tables-and-graphs.html#cb484-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-43"><a href="tables-and-graphs.html#cb484-43" aria-hidden="true" tabindex="-1"></a><span class="co"># point type</span></span>
<span id="cb484-44"><a href="tables-and-graphs.html#cb484-44" aria-hidden="true" tabindex="-1"></a>st_point_1_pch <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb484-45"><a href="tables-and-graphs.html#cb484-45" aria-hidden="true" tabindex="-1"></a><span class="co"># point size</span></span>
<span id="cb484-46"><a href="tables-and-graphs.html#cb484-46" aria-hidden="true" tabindex="-1"></a>st_point_1_cex <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb484-47"><a href="tables-and-graphs.html#cb484-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-48"><a href="tables-and-graphs.html#cb484-48" aria-hidden="true" tabindex="-1"></a><span class="co"># line type</span></span>
<span id="cb484-49"><a href="tables-and-graphs.html#cb484-49" aria-hidden="true" tabindex="-1"></a>st_line_2_lty <span class="ot">&lt;-</span> <span class="st">&#39;dashed&#39;</span></span>
<span id="cb484-50"><a href="tables-and-graphs.html#cb484-50" aria-hidden="true" tabindex="-1"></a>st_line_3_lty <span class="ot">&lt;-</span> <span class="st">&#39;dotted&#39;</span></span>
<span id="cb484-51"><a href="tables-and-graphs.html#cb484-51" aria-hidden="true" tabindex="-1"></a>st_line_4_lty <span class="ot">&lt;-</span> <span class="st">&#39;dotdash&#39;</span></span>
<span id="cb484-52"><a href="tables-and-graphs.html#cb484-52" aria-hidden="true" tabindex="-1"></a><span class="co"># line width</span></span>
<span id="cb484-53"><a href="tables-and-graphs.html#cb484-53" aria-hidden="true" tabindex="-1"></a>st_line_2_lwd <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb484-54"><a href="tables-and-graphs.html#cb484-54" aria-hidden="true" tabindex="-1"></a>st_line_3_lwd <span class="ot">&lt;-</span> <span class="fl">2.5</span></span>
<span id="cb484-55"><a href="tables-and-graphs.html#cb484-55" aria-hidden="true" tabindex="-1"></a>st_line_4_lwd <span class="ot">&lt;-</span> <span class="fl">3.5</span></span>
<span id="cb484-56"><a href="tables-and-graphs.html#cb484-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-57"><a href="tables-and-graphs.html#cb484-57" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-58"><a href="tables-and-graphs.html#cb484-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Fourth: Share xlim and ylim</span></span>
<span id="cb484-59"><a href="tables-and-graphs.html#cb484-59" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-60"><a href="tables-and-graphs.html#cb484-60" aria-hidden="true" tabindex="-1"></a>ar_xlim <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">min</span>(x), <span class="fu">max</span>(x))</span>
<span id="cb484-61"><a href="tables-and-graphs.html#cb484-61" aria-hidden="true" tabindex="-1"></a>ar_ylim <span class="ot">=</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)</span>
<span id="cb484-62"><a href="tables-and-graphs.html#cb484-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-63"><a href="tables-and-graphs.html#cb484-63" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-64"><a href="tables-and-graphs.html#cb484-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Fifth: the legend will be long, will place it to the right of figure,</span></span>
<span id="cb484-65"><a href="tables-and-graphs.html#cb484-65" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-66"><a href="tables-and-graphs.html#cb484-66" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span><span class="cn">FALSE</span>, <span class="at">mar=</span><span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">10</span>))</span>
<span id="cb484-67"><a href="tables-and-graphs.html#cb484-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-68"><a href="tables-and-graphs.html#cb484-68" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-69"><a href="tables-and-graphs.html#cb484-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Sixth, the four objects and do not print yet:</span></span>
<span id="cb484-70"><a href="tables-and-graphs.html#cb484-70" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-71"><a href="tables-and-graphs.html#cb484-71" aria-hidden="true" tabindex="-1"></a><span class="co"># pdf(NULL)</span></span>
<span id="cb484-72"><a href="tables-and-graphs.html#cb484-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph Scatter 1</span></span>
<span id="cb484-73"><a href="tables-and-graphs.html#cb484-73" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y1, <span class="at">type=</span><span class="st">&quot;p&quot;</span>,</span>
<span id="cb484-74"><a href="tables-and-graphs.html#cb484-74" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> st_point_1_blue,</span>
<span id="cb484-75"><a href="tables-and-graphs.html#cb484-75" aria-hidden="true" tabindex="-1"></a>     <span class="at">pch =</span> st_point_1_pch, <span class="at">cex =</span> st_point_1_cex,</span>
<span id="cb484-76"><a href="tables-and-graphs.html#cb484-76" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> ar_xlim, <span class="at">ylim =</span> ar_ylim,</span>
<span id="cb484-77"><a href="tables-and-graphs.html#cb484-77" aria-hidden="true" tabindex="-1"></a>     <span class="at">panel.first =</span> <span class="fu">grid</span>(),</span>
<span id="cb484-78"><a href="tables-and-graphs.html#cb484-78" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">ann=</span><span class="cn">FALSE</span>)</span>
<span id="cb484-79"><a href="tables-and-graphs.html#cb484-79" aria-hidden="true" tabindex="-1"></a>pl_scatter_1 <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span>
<span id="cb484-80"><a href="tables-and-graphs.html#cb484-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-81"><a href="tables-and-graphs.html#cb484-81" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph Line 2</span></span>
<span id="cb484-82"><a href="tables-and-graphs.html#cb484-82" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb484-83"><a href="tables-and-graphs.html#cb484-83" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y2, <span class="at">type=</span><span class="st">&quot;l&quot;</span>,</span>
<span id="cb484-84"><a href="tables-and-graphs.html#cb484-84" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> st_line_2_red,</span>
<span id="cb484-85"><a href="tables-and-graphs.html#cb484-85" aria-hidden="true" tabindex="-1"></a>     <span class="at">lwd =</span> st_line_2_lwd, <span class="at">lty =</span> st_line_2_lty,</span>
<span id="cb484-86"><a href="tables-and-graphs.html#cb484-86" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> ar_xlim, <span class="at">ylim =</span> ar_ylim,</span>
<span id="cb484-87"><a href="tables-and-graphs.html#cb484-87" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">ann=</span><span class="cn">FALSE</span>)</span>
<span id="cb484-88"><a href="tables-and-graphs.html#cb484-88" aria-hidden="true" tabindex="-1"></a>pl_12 <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span>
<span id="cb484-89"><a href="tables-and-graphs.html#cb484-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-90"><a href="tables-and-graphs.html#cb484-90" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph Curve 3</span></span>
<span id="cb484-91"><a href="tables-and-graphs.html#cb484-91" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb484-92"><a href="tables-and-graphs.html#cb484-92" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(fc_sin_cos_diff,</span>
<span id="cb484-93"><a href="tables-and-graphs.html#cb484-93" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> st_line_3_black,</span>
<span id="cb484-94"><a href="tables-and-graphs.html#cb484-94" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> st_line_3_lwd, <span class="at">lty =</span> st_line_3_lty,</span>
<span id="cb484-95"><a href="tables-and-graphs.html#cb484-95" aria-hidden="true" tabindex="-1"></a>      <span class="at">from =</span> ar_xlim[<span class="dv">1</span>], <span class="at">to =</span> ar_xlim[<span class="dv">2</span>], <span class="at">ylim =</span> ar_ylim,</span>
<span id="cb484-96"><a href="tables-and-graphs.html#cb484-96" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">ann=</span><span class="cn">FALSE</span>)</span>
<span id="cb484-97"><a href="tables-and-graphs.html#cb484-97" aria-hidden="true" tabindex="-1"></a>pl_123 <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span>
<span id="cb484-98"><a href="tables-and-graphs.html#cb484-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-99"><a href="tables-and-graphs.html#cb484-99" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph Curve 4</span></span>
<span id="cb484-100"><a href="tables-and-graphs.html#cb484-100" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb484-101"><a href="tables-and-graphs.html#cb484-101" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(fc_sin_cos_tan,</span>
<span id="cb484-102"><a href="tables-and-graphs.html#cb484-102" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> st_line_4_purple,</span>
<span id="cb484-103"><a href="tables-and-graphs.html#cb484-103" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> st_line_4_lwd, <span class="at">lty =</span> st_line_4_lty,</span>
<span id="cb484-104"><a href="tables-and-graphs.html#cb484-104" aria-hidden="true" tabindex="-1"></a>      <span class="at">from =</span> ar_xlim[<span class="dv">1</span>], <span class="at">to =</span> ar_xlim[<span class="dv">2</span>], <span class="at">ylim =</span> ar_ylim,</span>
<span id="cb484-105"><a href="tables-and-graphs.html#cb484-105" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">ann=</span><span class="cn">FALSE</span>)</span>
<span id="cb484-106"><a href="tables-and-graphs.html#cb484-106" aria-hidden="true" tabindex="-1"></a>pl_1234 <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span>
<span id="cb484-107"><a href="tables-and-graphs.html#cb484-107" aria-hidden="true" tabindex="-1"></a><span class="co"># invisible(dev.off())</span></span>
<span id="cb484-108"><a href="tables-and-graphs.html#cb484-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-109"><a href="tables-and-graphs.html#cb484-109" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-110"><a href="tables-and-graphs.html#cb484-110" aria-hidden="true" tabindex="-1"></a><span class="co"># Seventh, Set Title and Legend and Plot Jointly</span></span>
<span id="cb484-111"><a href="tables-and-graphs.html#cb484-111" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb484-112"><a href="tables-and-graphs.html#cb484-112" aria-hidden="true" tabindex="-1"></a><span class="co"># CEX sizing Contorl Titling and Legend Sizes</span></span>
<span id="cb484-113"><a href="tables-and-graphs.html#cb484-113" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_reg <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb484-114"><a href="tables-and-graphs.html#cb484-114" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_small <span class="ot">=</span> <span class="fl">0.75</span></span>
<span id="cb484-115"><a href="tables-and-graphs.html#cb484-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-116"><a href="tables-and-graphs.html#cb484-116" aria-hidden="true" tabindex="-1"></a><span class="co"># R Legend</span></span>
<span id="cb484-117"><a href="tables-and-graphs.html#cb484-117" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> st_title, <span class="at">sub =</span> st_subtitle, <span class="at">xlab =</span> st_x_label, <span class="at">ylab =</span> st_y_label,</span>
<span id="cb484-118"><a href="tables-and-graphs.html#cb484-118" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab=</span>fl_ces_fig_reg,</span>
<span id="cb484-119"><a href="tables-and-graphs.html#cb484-119" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.main=</span>fl_ces_fig_reg,</span>
<span id="cb484-120"><a href="tables-and-graphs.html#cb484-120" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.sub=</span>fl_ces_fig_small)</span>
<span id="cb484-121"><a href="tables-and-graphs.html#cb484-121" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb484-122"><a href="tables-and-graphs.html#cb484-122" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="at">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb484-123"><a href="tables-and-graphs.html#cb484-123" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb484-124"><a href="tables-and-graphs.html#cb484-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb484-125"><a href="tables-and-graphs.html#cb484-125" aria-hidden="true" tabindex="-1"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb484-126"><a href="tables-and-graphs.html#cb484-126" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb484-127"><a href="tables-and-graphs.html#cb484-127" aria-hidden="true" tabindex="-1"></a>       <span class="at">inset=</span><span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.4</span>,<span class="dv">0</span>),</span>
<span id="cb484-128"><a href="tables-and-graphs.html#cb484-128" aria-hidden="true" tabindex="-1"></a>       <span class="at">xpd=</span><span class="cn">TRUE</span>,</span>
<span id="cb484-129"><a href="tables-and-graphs.html#cb484-129" aria-hidden="true" tabindex="-1"></a>       <span class="fu">c</span>(st_point_1_y_legend, st_line_2_y_legend, st_line_3_y_legend, st_line_4_y_legend),</span>
<span id="cb484-130"><a href="tables-and-graphs.html#cb484-130" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(st_point_1_blue, st_line_2_red, st_line_3_black, st_line_4_purple),</span>
<span id="cb484-131"><a href="tables-and-graphs.html#cb484-131" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(st_point_1_pch, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="cn">NA</span>),</span>
<span id="cb484-132"><a href="tables-and-graphs.html#cb484-132" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> fl_ces_fig_small,</span>
<span id="cb484-133"><a href="tables-and-graphs.html#cb484-133" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(<span class="cn">NA</span>, st_line_2_lty, st_line_3_lty, st_line_4_lty),</span>
<span id="cb484-134"><a href="tables-and-graphs.html#cb484-134" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="fu">c</span>(<span class="cn">NA</span>, st_line_2_lwd, st_line_3_lwd,st_line_4_lwd),</span>
<span id="cb484-135"><a href="tables-and-graphs.html#cb484-135" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&#39;Legends&#39;</span>,</span>
<span id="cb484-136"><a href="tables-and-graphs.html#cb484-136" aria-hidden="true" tabindex="-1"></a>       <span class="at">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Panel-Data-and-Optimization-with-R_files/figure-html/unnamed-chunk-246-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="tables-and-graphs.html#cb485-1" aria-hidden="true" tabindex="-1"></a><span class="co"># record final plot</span></span>
<span id="cb485-2"><a href="tables-and-graphs.html#cb485-2" aria-hidden="true" tabindex="-1"></a>pl_1234_final <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span></code></pre></div>
<p>We used recordplot() earlier. So now we can print just the first two constructed plots.</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="tables-and-graphs.html#cb486-1" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb486-2"><a href="tables-and-graphs.html#cb486-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Eighth, Plot just the first two saved lines</span></span>
<span id="cb486-3"><a href="tables-and-graphs.html#cb486-3" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb486-4"><a href="tables-and-graphs.html#cb486-4" aria-hidden="true" tabindex="-1"></a><span class="co"># mar: margin, bottom, left, top, right</span></span>
<span id="cb486-5"><a href="tables-and-graphs.html#cb486-5" aria-hidden="true" tabindex="-1"></a>pl_12</span>
<span id="cb486-6"><a href="tables-and-graphs.html#cb486-6" aria-hidden="true" tabindex="-1"></a><span class="co"># R Legend</span></span>
<span id="cb486-7"><a href="tables-and-graphs.html#cb486-7" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb486-8"><a href="tables-and-graphs.html#cb486-8" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> st_title, <span class="at">sub =</span> st_subtitle, <span class="at">xlab =</span> st_x_label, <span class="at">ylab =</span> st_y_label,</span>
<span id="cb486-9"><a href="tables-and-graphs.html#cb486-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab =</span> fl_ces_fig_reg,</span>
<span id="cb486-10"><a href="tables-and-graphs.html#cb486-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.main =</span> fl_ces_fig_reg,</span>
<span id="cb486-11"><a href="tables-and-graphs.html#cb486-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.sub =</span> fl_ces_fig_small)</span>
<span id="cb486-12"><a href="tables-and-graphs.html#cb486-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb486-13"><a href="tables-and-graphs.html#cb486-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb486-14"><a href="tables-and-graphs.html#cb486-14" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb486-15"><a href="tables-and-graphs.html#cb486-15" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb486-16"><a href="tables-and-graphs.html#cb486-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">inset=</span><span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.4</span>,<span class="dv">0</span>),</span>
<span id="cb486-17"><a href="tables-and-graphs.html#cb486-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">xpd=</span><span class="cn">TRUE</span>,</span>
<span id="cb486-18"><a href="tables-and-graphs.html#cb486-18" aria-hidden="true" tabindex="-1"></a>       <span class="fu">c</span>(st_point_1_y_legend, st_line_2_y_legend),</span>
<span id="cb486-19"><a href="tables-and-graphs.html#cb486-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(st_point_1_blue, st_line_2_red),</span>
<span id="cb486-20"><a href="tables-and-graphs.html#cb486-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(st_point_1_pch, <span class="cn">NA</span>),</span>
<span id="cb486-21"><a href="tables-and-graphs.html#cb486-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> fl_ces_fig_small,</span>
<span id="cb486-22"><a href="tables-and-graphs.html#cb486-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(<span class="cn">NA</span>, st_line_2_lty),</span>
<span id="cb486-23"><a href="tables-and-graphs.html#cb486-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="fu">c</span>(<span class="cn">NA</span>, st_line_2_lwd),</span>
<span id="cb486-24"><a href="tables-and-graphs.html#cb486-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&#39;Legends&#39;</span>,</span>
<span id="cb486-25"><a href="tables-and-graphs.html#cb486-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="Panel-Data-and-Optimization-with-R_files/figure-html/unnamed-chunk-247-1.png" width="672" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
<div id="ggplot-line-related-plots" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> GGplot Line Related Plots</h2>

<div id="continuous-outcome-with-multiple-categorical-variables" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Continuous Outcome with Multiple Categorical Variables</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/REconTools/">REconTools</a> Package, <a href="https://fanwangecon.github.io/R4Econ/">R Code Examples</a> Repository (<a href="https://fanwangecon.github.io/R4Econ/bookdown">bookdown site</a>), or <a href="https://fanwangecon.github.io/Stat4Econ/">Intro Stats with R</a> Repository (<a href="https://fanwangecon.github.io/Stat4Econ/bookdown">bookdown site</a>).</p>
</blockquote>
<div id="three-categories-one-is-subplot" class="section level4" number="9.2.1.1">
<h4><span class="header-section-number">9.2.1.1</span> Three Categories, One is Subplot</h4>
<p>The outcome is CEV, generated for results with different productivity types (subplot), generated for PE vs GE (linetype), and at different parameter specifications (lower and higher gamma).</p>
<p>The graphs rely on this csv file <a href="https://github.com/FanWangEcon/R4Econ/tree/master/tabgraph/ggline/_file">cev_data.csv</a>.</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="tables-and-graphs.html#cb487-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Libraries</span></span>
<span id="cb487-2"><a href="tables-and-graphs.html#cb487-2" aria-hidden="true" tabindex="-1"></a><span class="co"># library(tidyverse)</span></span>
<span id="cb487-3"><a href="tables-and-graphs.html#cb487-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-4"><a href="tables-and-graphs.html#cb487-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load in CSV</span></span>
<span id="cb487-5"><a href="tables-and-graphs.html#cb487-5" aria-hidden="true" tabindex="-1"></a>bl_save_img <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb487-6"><a href="tables-and-graphs.html#cb487-6" aria-hidden="true" tabindex="-1"></a>spt_csv_root <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;C:/Users/fan/R4Econ/tabgraph/ggline/_file/&#39;</span>)</span>
<span id="cb487-7"><a href="tables-and-graphs.html#cb487-7" aria-hidden="true" tabindex="-1"></a>spt_img_root <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;G:/repos/R4Econ/tabgraph/ggline/_file/&#39;</span>)</span>
<span id="cb487-8"><a href="tables-and-graphs.html#cb487-8" aria-hidden="true" tabindex="-1"></a>spn_cev_data <span class="ot">&lt;-</span> <span class="fu">paste0</span>(spt_csv_root, <span class="st">&#39;cev_data.csv&#39;</span>)</span>
<span id="cb487-9"><a href="tables-and-graphs.html#cb487-9" aria-hidden="true" tabindex="-1"></a>spn_cev_graph <span class="ot">&lt;-</span> <span class="fu">paste0</span>(spt_img_root, <span class="st">&#39;cev_graph.png&#39;</span>)</span>
<span id="cb487-10"><a href="tables-and-graphs.html#cb487-10" aria-hidden="true" tabindex="-1"></a>spn_cev_graph_eps <span class="ot">&lt;-</span> <span class="fu">paste0</span>(spt_img_root, <span class="st">&#39;cev_graph.eps&#39;</span>)</span>
<span id="cb487-11"><a href="tables-and-graphs.html#cb487-11" aria-hidden="true" tabindex="-1"></a>df_cev_graph <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(<span class="fu">read.csv</span>(spn_cev_data)) <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>X)</span>
<span id="cb487-12"><a href="tables-and-graphs.html#cb487-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-13"><a href="tables-and-graphs.html#cb487-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset subsetting ------</span></span>
<span id="cb487-14"><a href="tables-and-graphs.html#cb487-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-15"><a href="tables-and-graphs.html#cb487-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Line Patterns and Colors ------</span></span>
<span id="cb487-16"><a href="tables-and-graphs.html#cb487-16" aria-hidden="true" tabindex="-1"></a><span class="co"># ar_st_age_group_leg_labels &lt;- c(&quot;\nGE\n\u03B3=0.42\n&quot;, &quot;\nGE\n\u03B3=0.56\n&quot;,</span></span>
<span id="cb487-17"><a href="tables-and-graphs.html#cb487-17" aria-hidden="true" tabindex="-1"></a><span class="co">#                                 &quot;\nPE\n\u03B3=0.42\n&quot;, &quot;\nPE\n\u03B3=0.42\n&quot;)</span></span>
<span id="cb487-18"><a href="tables-and-graphs.html#cb487-18" aria-hidden="true" tabindex="-1"></a>ar_st_age_group_leg_labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">bquote</span>(<span class="st">&quot;GE,&quot;</span><span class="sc">~</span>gamma <span class="sc">==</span> .(<span class="fl">0.42</span>)),</span>
<span id="cb487-19"><a href="tables-and-graphs.html#cb487-19" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">bquote</span>(<span class="st">&quot;GE,&quot;</span><span class="sc">~</span>gamma <span class="sc">==</span> .(<span class="fl">0.56</span>)),</span>
<span id="cb487-20"><a href="tables-and-graphs.html#cb487-20" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">bquote</span>(<span class="st">&quot;PE,&quot;</span><span class="sc">~</span>gamma <span class="sc">==</span> .(<span class="fl">0.42</span>)),</span>
<span id="cb487-21"><a href="tables-and-graphs.html#cb487-21" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">bquote</span>(<span class="st">&quot;PE,&quot;</span><span class="sc">~</span>gamma <span class="sc">==</span> .(<span class="fl">0.56</span>)))</span>
<span id="cb487-22"><a href="tables-and-graphs.html#cb487-22" aria-hidden="true" tabindex="-1"></a>ar_st_colours <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#85ccff&quot;</span>, <span class="st">&quot;#026aa3&quot;</span>, <span class="st">&quot;#85ccff&quot;</span>, <span class="st">&quot;#026aa3&quot;</span>)</span>
<span id="cb487-23"><a href="tables-and-graphs.html#cb487-23" aria-hidden="true" tabindex="-1"></a>ar_st_linetypes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;solid&quot;</span>, <span class="st">&quot;solid&quot;</span>, <span class="st">&quot;longdash&quot;</span>, <span class="st">&quot;longdash&quot;</span>)</span>
<span id="cb487-24"><a href="tables-and-graphs.html#cb487-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-25"><a href="tables-and-graphs.html#cb487-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Labels and Other Strings -------</span></span>
<span id="cb487-26"><a href="tables-and-graphs.html#cb487-26" aria-hidden="true" tabindex="-1"></a>st_title <span class="ot">&lt;-</span> <span class="st">&#39;&#39;</span></span>
<span id="cb487-27"><a href="tables-and-graphs.html#cb487-27" aria-hidden="true" tabindex="-1"></a>st_x <span class="ot">&lt;-</span> <span class="st">&#39;Wealth&#39;</span></span>
<span id="cb487-28"><a href="tables-and-graphs.html#cb487-28" aria-hidden="true" tabindex="-1"></a>st_y <span class="ot">&lt;-</span> <span class="st">&#39;Welfare Gain (% CEV)&#39;</span></span>
<span id="cb487-29"><a href="tables-and-graphs.html#cb487-29" aria-hidden="true" tabindex="-1"></a>st_subtitle <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;https://fanwangecon.github.io/&#39;</span>,</span>
<span id="cb487-30"><a href="tables-and-graphs.html#cb487-30" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&#39;R4Econ/tabgraph/ggline/htmlpdfr/fs_ggline_mgrp_ncts.html&#39;</span>)</span>
<span id="cb487-31"><a href="tables-and-graphs.html#cb487-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-32"><a href="tables-and-graphs.html#cb487-32" aria-hidden="true" tabindex="-1"></a><span class="co"># ar_st_age_group_leg_labels &lt;- c(&quot;C\u2013Optimal&quot;, &quot;V\u2013Optimal&quot;)</span></span>
<span id="cb487-33"><a href="tables-and-graphs.html#cb487-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-34"><a href="tables-and-graphs.html#cb487-34" aria-hidden="true" tabindex="-1"></a>prod_type_recode <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Productivity Type</span><span class="sc">\n</span><span class="st">(-1 sd)&quot;</span> <span class="ot">=</span> <span class="st">&quot;8993&quot;</span>,</span>
<span id="cb487-35"><a href="tables-and-graphs.html#cb487-35" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;Productivity Type</span><span class="sc">\n</span><span class="st">(mean)&quot;</span> <span class="ot">=</span> <span class="st">&quot;10189&quot;</span>,</span>
<span id="cb487-36"><a href="tables-and-graphs.html#cb487-36" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;Productivity Type</span><span class="sc">\n</span><span class="st">(+1 sd)&quot;</span> <span class="ot">=</span> <span class="st">&quot;12244&quot;</span>)</span>
<span id="cb487-37"><a href="tables-and-graphs.html#cb487-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-38"><a href="tables-and-graphs.html#cb487-38" aria-hidden="true" tabindex="-1"></a>x.labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;0&#39;</span>, <span class="st">&#39;200k&#39;</span>, <span class="st">&#39;400k&#39;</span>, <span class="st">&#39;600k&#39;</span>, <span class="st">&#39;800k&#39;</span>)</span>
<span id="cb487-39"><a href="tables-and-graphs.html#cb487-39" aria-hidden="true" tabindex="-1"></a>x.breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,</span>
<span id="cb487-40"><a href="tables-and-graphs.html#cb487-40" aria-hidden="true" tabindex="-1"></a>              <span class="dv">5</span>,</span>
<span id="cb487-41"><a href="tables-and-graphs.html#cb487-41" aria-hidden="true" tabindex="-1"></a>              <span class="dv">10</span>,</span>
<span id="cb487-42"><a href="tables-and-graphs.html#cb487-42" aria-hidden="true" tabindex="-1"></a>              <span class="dv">15</span>,</span>
<span id="cb487-43"><a href="tables-and-graphs.html#cb487-43" aria-hidden="true" tabindex="-1"></a>              <span class="dv">20</span>)</span>
<span id="cb487-44"><a href="tables-and-graphs.html#cb487-44" aria-hidden="true" tabindex="-1"></a>x.min <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb487-45"><a href="tables-and-graphs.html#cb487-45" aria-hidden="true" tabindex="-1"></a>x.max <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb487-46"><a href="tables-and-graphs.html#cb487-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-47"><a href="tables-and-graphs.html#cb487-47" aria-hidden="true" tabindex="-1"></a><span class="co"># y.labels &lt;- c(&#39;-0.01&#39;,</span></span>
<span id="cb487-48"><a href="tables-and-graphs.html#cb487-48" aria-hidden="true" tabindex="-1"></a><span class="co">#               &#39;\u2191\u2191\nWelfare\nGain\n\nCEV=0\n\nWelfare\nLoss\n\u2193\u2193&#39;,</span></span>
<span id="cb487-49"><a href="tables-and-graphs.html#cb487-49" aria-hidden="true" tabindex="-1"></a><span class="co">#               &#39;+0.01&#39;, &#39;+0.02&#39;, &#39;+0.03&#39;, &#39;+0.04&#39;,&#39;+0.05&#39;)</span></span>
<span id="cb487-50"><a href="tables-and-graphs.html#cb487-50" aria-hidden="true" tabindex="-1"></a>y.labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;-0.5 pp&#39;</span>,</span>
<span id="cb487-51"><a href="tables-and-graphs.html#cb487-51" aria-hidden="true" tabindex="-1"></a>              <span class="st">&#39;CEV=0&#39;</span>,</span>
<span id="cb487-52"><a href="tables-and-graphs.html#cb487-52" aria-hidden="true" tabindex="-1"></a>              <span class="st">&#39;+0.5 pp&#39;</span>, <span class="st">&#39;+1.0 pp&#39;</span>, <span class="st">&#39;+1.5 pp&#39;</span>, <span class="st">&#39;+2.0 pp&#39;</span>,<span class="st">&#39;+2.5 pp&#39;</span>)</span>
<span id="cb487-53"><a href="tables-and-graphs.html#cb487-53" aria-hidden="true" tabindex="-1"></a>y.breaks <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.01</span>, <span class="dv">0</span>, <span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.03</span>, <span class="fl">0.04</span>, <span class="fl">0.05</span>)</span>
<span id="cb487-54"><a href="tables-and-graphs.html#cb487-54" aria-hidden="true" tabindex="-1"></a>y.min <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">0.011</span></span>
<span id="cb487-55"><a href="tables-and-graphs.html#cb487-55" aria-hidden="true" tabindex="-1"></a>y.max <span class="ot">&lt;-</span> <span class="fl">0.051</span></span>
<span id="cb487-56"><a href="tables-and-graphs.html#cb487-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-57"><a href="tables-and-graphs.html#cb487-57" aria-hidden="true" tabindex="-1"></a><span class="co"># data change -------</span></span>
<span id="cb487-58"><a href="tables-and-graphs.html#cb487-58" aria-hidden="true" tabindex="-1"></a>df_cev_graph <span class="ot">&lt;-</span> df_cev_graph <span class="sc">%&gt;%</span></span>
<span id="cb487-59"><a href="tables-and-graphs.html#cb487-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">across</span>(counter_policy, <span class="sc">~</span> <span class="fu">grepl</span>(<span class="st">&#39;70|42&#39;</span>, .))) <span class="sc">%&gt;%</span></span>
<span id="cb487-60"><a href="tables-and-graphs.html#cb487-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prod_type_lvl =</span> <span class="fu">as.factor</span>(prod_type_lvl)) <span class="sc">%&gt;%</span></span>
<span id="cb487-61"><a href="tables-and-graphs.html#cb487-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prod_type_lvl =</span> <span class="fu">fct_recode</span>(prod_type_lvl, <span class="sc">!!!</span>prod_type_recode))</span>
<span id="cb487-62"><a href="tables-and-graphs.html#cb487-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-63"><a href="tables-and-graphs.html#cb487-63" aria-hidden="true" tabindex="-1"></a><span class="co"># graph ------</span></span>
<span id="cb487-64"><a href="tables-and-graphs.html#cb487-64" aria-hidden="true" tabindex="-1"></a>pl_cev <span class="ot">&lt;-</span> df_cev_graph <span class="sc">%&gt;%</span></span>
<span id="cb487-65"><a href="tables-and-graphs.html#cb487-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(prod_type_st, cash_tt) <span class="sc">%&gt;%</span></span>
<span id="cb487-66"><a href="tables-and-graphs.html#cb487-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>cash_tt, <span class="at">y=</span>cev_lvl,</span>
<span id="cb487-67"><a href="tables-and-graphs.html#cb487-67" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour=</span>counter_policy, <span class="at">linetype=</span>counter_policy, <span class="at">shape=</span>counter_policy)) <span class="sc">+</span></span>
<span id="cb487-68"><a href="tables-and-graphs.html#cb487-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>( <span class="sc">~</span> prod_type_lvl, <span class="at">nrow=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb487-69"><a href="tables-and-graphs.html#cb487-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;auto&quot;</span>, <span class="at">se=</span><span class="cn">FALSE</span>, <span class="at">fullrange=</span><span class="cn">FALSE</span>, <span class="at">level=</span><span class="fl">0.95</span>)</span>
<span id="cb487-70"><a href="tables-and-graphs.html#cb487-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-71"><a href="tables-and-graphs.html#cb487-71" aria-hidden="true" tabindex="-1"></a><span class="co"># labels</span></span>
<span id="cb487-72"><a href="tables-and-graphs.html#cb487-72" aria-hidden="true" tabindex="-1"></a>pl_cev <span class="ot">&lt;-</span> pl_cev <span class="sc">+</span></span>
<span id="cb487-73"><a href="tables-and-graphs.html#cb487-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> st_x,</span>
<span id="cb487-74"><a href="tables-and-graphs.html#cb487-74" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> st_y,</span>
<span id="cb487-75"><a href="tables-and-graphs.html#cb487-75" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> st_subtitle)</span>
<span id="cb487-76"><a href="tables-and-graphs.html#cb487-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-77"><a href="tables-and-graphs.html#cb487-77" aria-hidden="true" tabindex="-1"></a><span class="co"># set shapes and colors</span></span>
<span id="cb487-78"><a href="tables-and-graphs.html#cb487-78" aria-hidden="true" tabindex="-1"></a>pl_cev <span class="ot">&lt;-</span> pl_cev <span class="sc">+</span></span>
<span id="cb487-79"><a href="tables-and-graphs.html#cb487-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values=</span>ar_st_colours, <span class="at">labels=</span>ar_st_age_group_leg_labels) <span class="sc">+</span></span>
<span id="cb487-80"><a href="tables-and-graphs.html#cb487-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_shape_discrete</span>(<span class="at">labels=</span>ar_st_age_group_leg_labels) <span class="sc">+</span></span>
<span id="cb487-81"><a href="tables-and-graphs.html#cb487-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values=</span>ar_st_linetypes, <span class="at">labels=</span>ar_st_age_group_leg_labels) <span class="sc">+</span></span>
<span id="cb487-82"><a href="tables-and-graphs.html#cb487-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">labels =</span> x.labels, <span class="at">breaks =</span> x.breaks,</span>
<span id="cb487-83"><a href="tables-and-graphs.html#cb487-83" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(x.min, x.max)) <span class="sc">+</span></span>
<span id="cb487-84"><a href="tables-and-graphs.html#cb487-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> y.labels, <span class="at">breaks =</span> y.breaks,</span>
<span id="cb487-85"><a href="tables-and-graphs.html#cb487-85" aria-hidden="true" tabindex="-1"></a>                     <span class="at">limits =</span> <span class="fu">c</span>(y.min, y.max))</span>
<span id="cb487-86"><a href="tables-and-graphs.html#cb487-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-87"><a href="tables-and-graphs.html#cb487-87" aria-hidden="true" tabindex="-1"></a><span class="co"># Horizontal line</span></span>
<span id="cb487-88"><a href="tables-and-graphs.html#cb487-88" aria-hidden="true" tabindex="-1"></a>pl_cev <span class="ot">&lt;-</span> pl_cev <span class="sc">+</span></span>
<span id="cb487-89"><a href="tables-and-graphs.html#cb487-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept=</span><span class="dv">0</span>, <span class="at">linetype=</span><span class="st">&#39;solid&#39;</span>, <span class="at">colour=</span><span class="st">&quot;black&quot;</span>, <span class="at">size =</span><span class="dv">1</span>)</span>
<span id="cb487-90"><a href="tables-and-graphs.html#cb487-90" aria-hidden="true" tabindex="-1"></a>  <span class="co"># geom_hline(yintercept=0, linetype=&#39;dotted&#39;, colour=&quot;black&quot;, size=2)</span></span>
<span id="cb487-91"><a href="tables-and-graphs.html#cb487-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-92"><a href="tables-and-graphs.html#cb487-92" aria-hidden="true" tabindex="-1"></a><span class="co"># theme</span></span>
<span id="cb487-93"><a href="tables-and-graphs.html#cb487-93" aria-hidden="true" tabindex="-1"></a>pl_cev <span class="ot">&lt;-</span> pl_cev <span class="sc">+</span></span>
<span id="cb487-94"><a href="tables-and-graphs.html#cb487-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb487-95"><a href="tables-and-graphs.html#cb487-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb487-96"><a href="tables-and-graphs.html#cb487-96" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb487-97"><a href="tables-and-graphs.html#cb487-97" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.16</span>, <span class="fl">0.65</span>),</span>
<span id="cb487-98"><a href="tables-and-graphs.html#cb487-98" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">linetype=</span><span class="st">&#39;solid&#39;</span>),</span>
<span id="cb487-99"><a href="tables-and-graphs.html#cb487-99" aria-hidden="true" tabindex="-1"></a>       <span class="at">legend.key.width =</span> <span class="fu">unit</span>(<span class="fl">1.5</span>, <span class="st">&quot;cm&quot;</span>))</span>
<span id="cb487-100"><a href="tables-and-graphs.html#cb487-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-101"><a href="tables-and-graphs.html#cb487-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-102"><a href="tables-and-graphs.html#cb487-102" aria-hidden="true" tabindex="-1"></a><span class="co"># Save Image Outputs -----</span></span>
<span id="cb487-103"><a href="tables-and-graphs.html#cb487-103" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (bl_save_img) {</span>
<span id="cb487-104"><a href="tables-and-graphs.html#cb487-104" aria-hidden="true" tabindex="-1"></a>  <span class="fu">png</span>(spn_cev_graph,</span>
<span id="cb487-105"><a href="tables-and-graphs.html#cb487-105" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="dv">160</span>,</span>
<span id="cb487-106"><a href="tables-and-graphs.html#cb487-106" aria-hidden="true" tabindex="-1"></a>      <span class="at">height =</span> <span class="dv">105</span>, <span class="at">units=</span><span class="st">&#39;mm&#39;</span>,</span>
<span id="cb487-107"><a href="tables-and-graphs.html#cb487-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">res =</span> <span class="dv">150</span>, <span class="at">pointsize=</span><span class="dv">7</span>)</span>
<span id="cb487-108"><a href="tables-and-graphs.html#cb487-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggsave</span>(</span>
<span id="cb487-109"><a href="tables-and-graphs.html#cb487-109" aria-hidden="true" tabindex="-1"></a>    spn_cev_graph_eps,</span>
<span id="cb487-110"><a href="tables-and-graphs.html#cb487-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot =</span> <span class="fu">last_plot</span>(),</span>
<span id="cb487-111"><a href="tables-and-graphs.html#cb487-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">device =</span> <span class="st">&#39;eps&#39;</span>,</span>
<span id="cb487-112"><a href="tables-and-graphs.html#cb487-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> <span class="cn">NULL</span>,</span>
<span id="cb487-113"><a href="tables-and-graphs.html#cb487-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">scale =</span> <span class="dv">1</span>,</span>
<span id="cb487-114"><a href="tables-and-graphs.html#cb487-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">160</span>,</span>
<span id="cb487-115"><a href="tables-and-graphs.html#cb487-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">height =</span><span class="dv">105</span>,</span>
<span id="cb487-116"><a href="tables-and-graphs.html#cb487-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">units =</span> <span class="fu">c</span>(<span class="st">&quot;mm&quot;</span>),</span>
<span id="cb487-117"><a href="tables-and-graphs.html#cb487-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">dpi =</span> <span class="dv">150</span>,</span>
<span id="cb487-118"><a href="tables-and-graphs.html#cb487-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">limitsize =</span> <span class="cn">TRUE</span></span>
<span id="cb487-119"><a href="tables-and-graphs.html#cb487-119" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb487-120"><a href="tables-and-graphs.html#cb487-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb487-121"><a href="tables-and-graphs.html#cb487-121" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb487-122"><a href="tables-and-graphs.html#cb487-122" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(pl_cev)</span></code></pre></div>
<p><img src="Panel-Data-and-Optimization-with-R_files/figure-html/unnamed-chunk-249-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="tables-and-graphs.html#cb488-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (bl_save_img) {</span>
<span id="cb488-2"><a href="tables-and-graphs.html#cb488-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dev.off</span>()</span>
<span id="cb488-3"><a href="tables-and-graphs.html#cb488-3" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>

</div>
</div>
</div>
<div id="write-and-read-plots" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Write and Read Plots</h2>

<div id="import-and-export-images" class="section level3" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Import and Export Images</h3>
<blockquote>
<p>Go back to <a href="http://fanwangecon.github.io/">fan</a>’s <a href="https://fanwangecon.github.io/REconTools/">REconTools</a> Package, <a href="https://fanwangecon.github.io/R4Econ/">R Code Examples</a> Repository (<a href="https://fanwangecon.github.io/R4Econ/bookdown">bookdown site</a>), or <a href="https://fanwangecon.github.io/Stat4Econ/">Intro Stats with R</a> Repository (<a href="https://fanwangecon.github.io/Stat4Econ/bookdown">bookdown site</a>).</p>
</blockquote>
<p>Work with the R plot function.</p>
<div id="export-images-different-formats-with-plot" class="section level4" number="9.3.1.1">
<h4><span class="header-section-number">9.3.1.1</span> Export Images Different Formats with Plot()</h4>
<div id="generate-and-record-a-plot" class="section level5" number="9.3.1.1.1">
<h5><span class="header-section-number">9.3.1.1.1</span> Generate and Record A Plot</h5>
<p>Generate a graph and recordPlot() it. The generated graph does not have legends Yet. Crucially, there are no titles, legends, axis, labels in the figures. As we stack the figures together, do not add those. Only add at the end jointly for all figure elements together to control at one spot things.</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="tables-and-graphs.html#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-2"><a href="tables-and-graphs.html#cb489-2" aria-hidden="true" tabindex="-1"></a><span class="co"># First, Strings</span></span>
<span id="cb489-3"><a href="tables-and-graphs.html#cb489-3" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-4"><a href="tables-and-graphs.html#cb489-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Labeling</span></span>
<span id="cb489-5"><a href="tables-and-graphs.html#cb489-5" aria-hidden="true" tabindex="-1"></a>st_title <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;Scatter, Line and Curve Joint Ploting Example Using Base R</span><span class="sc">\n</span><span class="st">&#39;</span>,</span>
<span id="cb489-6"><a href="tables-and-graphs.html#cb489-6" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&#39;plot() + curve():sin(x)*cos(x), sin(x)+tan(x)+cos(x)&#39;</span>)</span>
<span id="cb489-7"><a href="tables-and-graphs.html#cb489-7" aria-hidden="true" tabindex="-1"></a>st_subtitle <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;https://fanwangecon.github.io/&#39;</span>,</span>
<span id="cb489-8"><a href="tables-and-graphs.html#cb489-8" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&#39;R4Econ/tabgraph/inout/htmlpdfr/fs_base_curve.html&#39;</span>)</span>
<span id="cb489-9"><a href="tables-and-graphs.html#cb489-9" aria-hidden="true" tabindex="-1"></a>st_x_label <span class="ot">&lt;-</span> <span class="st">&#39;x&#39;</span></span>
<span id="cb489-10"><a href="tables-and-graphs.html#cb489-10" aria-hidden="true" tabindex="-1"></a>st_y_label <span class="ot">&lt;-</span> <span class="st">&#39;f(x)&#39;</span></span>
<span id="cb489-11"><a href="tables-and-graphs.html#cb489-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-12"><a href="tables-and-graphs.html#cb489-12" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-13"><a href="tables-and-graphs.html#cb489-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Second, functions</span></span>
<span id="cb489-14"><a href="tables-and-graphs.html#cb489-14" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-15"><a href="tables-and-graphs.html#cb489-15" aria-hidden="true" tabindex="-1"></a>fc_sin_cos_diff <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">sin</span>(x)<span class="sc">*</span><span class="fu">cos</span>(x)</span>
<span id="cb489-16"><a href="tables-and-graphs.html#cb489-16" aria-hidden="true" tabindex="-1"></a>st_line_3_y_legend <span class="ot">&lt;-</span> <span class="st">&#39;sin(x)*cos(x)&#39;</span></span>
<span id="cb489-17"><a href="tables-and-graphs.html#cb489-17" aria-hidden="true" tabindex="-1"></a>fc_sin_cos_tan <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">sin</span>(x) <span class="sc">+</span> <span class="fu">cos</span>(x) <span class="sc">+</span> <span class="fu">tan</span>(x)</span>
<span id="cb489-18"><a href="tables-and-graphs.html#cb489-18" aria-hidden="true" tabindex="-1"></a>st_line_4_y_legend <span class="ot">&lt;-</span> <span class="st">&#39;sin(x) + tan(x) + cos(x)&#39;</span></span>
<span id="cb489-19"><a href="tables-and-graphs.html#cb489-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-20"><a href="tables-and-graphs.html#cb489-20" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-21"><a href="tables-and-graphs.html#cb489-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Third, patterns</span></span>
<span id="cb489-22"><a href="tables-and-graphs.html#cb489-22" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-23"><a href="tables-and-graphs.html#cb489-23" aria-hidden="true" tabindex="-1"></a>st_line_3_black <span class="ot">&lt;-</span> <span class="st">&#39;black&#39;</span></span>
<span id="cb489-24"><a href="tables-and-graphs.html#cb489-24" aria-hidden="true" tabindex="-1"></a>st_line_4_purple <span class="ot">&lt;-</span> <span class="st">&#39;orange&#39;</span></span>
<span id="cb489-25"><a href="tables-and-graphs.html#cb489-25" aria-hidden="true" tabindex="-1"></a><span class="co"># line type</span></span>
<span id="cb489-26"><a href="tables-and-graphs.html#cb489-26" aria-hidden="true" tabindex="-1"></a>st_line_3_lty <span class="ot">&lt;-</span> <span class="st">&#39;dotted&#39;</span></span>
<span id="cb489-27"><a href="tables-and-graphs.html#cb489-27" aria-hidden="true" tabindex="-1"></a>st_line_4_lty <span class="ot">&lt;-</span> <span class="st">&#39;dotdash&#39;</span></span>
<span id="cb489-28"><a href="tables-and-graphs.html#cb489-28" aria-hidden="true" tabindex="-1"></a><span class="co"># line width</span></span>
<span id="cb489-29"><a href="tables-and-graphs.html#cb489-29" aria-hidden="true" tabindex="-1"></a>st_line_3_lwd <span class="ot">&lt;-</span> <span class="fl">2.5</span></span>
<span id="cb489-30"><a href="tables-and-graphs.html#cb489-30" aria-hidden="true" tabindex="-1"></a>st_line_4_lwd <span class="ot">&lt;-</span> <span class="fl">3.5</span></span>
<span id="cb489-31"><a href="tables-and-graphs.html#cb489-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-32"><a href="tables-and-graphs.html#cb489-32" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-33"><a href="tables-and-graphs.html#cb489-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Fourth: Share xlim and ylim</span></span>
<span id="cb489-34"><a href="tables-and-graphs.html#cb489-34" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-35"><a href="tables-and-graphs.html#cb489-35" aria-hidden="true" tabindex="-1"></a>ar_xlim <span class="ot">=</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>)</span>
<span id="cb489-36"><a href="tables-and-graphs.html#cb489-36" aria-hidden="true" tabindex="-1"></a>ar_ylim <span class="ot">=</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)</span>
<span id="cb489-37"><a href="tables-and-graphs.html#cb489-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-38"><a href="tables-and-graphs.html#cb489-38" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-39"><a href="tables-and-graphs.html#cb489-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Fifth: Even margins</span></span>
<span id="cb489-40"><a href="tables-and-graphs.html#cb489-40" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-41"><a href="tables-and-graphs.html#cb489-41" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span><span class="cn">FALSE</span>)</span>
<span id="cb489-42"><a href="tables-and-graphs.html#cb489-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb489-43"><a href="tables-and-graphs.html#cb489-43" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-44"><a href="tables-and-graphs.html#cb489-44" aria-hidden="true" tabindex="-1"></a><span class="co"># Sixth, the four objects and do not print yet:</span></span>
<span id="cb489-45"><a href="tables-and-graphs.html#cb489-45" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb489-46"><a href="tables-and-graphs.html#cb489-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph Curve 3</span></span>
<span id="cb489-47"><a href="tables-and-graphs.html#cb489-47" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb489-48"><a href="tables-and-graphs.html#cb489-48" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(fc_sin_cos_diff,</span>
<span id="cb489-49"><a href="tables-and-graphs.html#cb489-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> st_line_3_black,</span>
<span id="cb489-50"><a href="tables-and-graphs.html#cb489-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> st_line_3_lwd, <span class="at">lty =</span> st_line_3_lty,</span>
<span id="cb489-51"><a href="tables-and-graphs.html#cb489-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">from =</span> ar_xlim[<span class="dv">1</span>], <span class="at">to =</span> ar_xlim[<span class="dv">2</span>], <span class="at">ylim =</span> ar_ylim,</span>
<span id="cb489-52"><a href="tables-and-graphs.html#cb489-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">ann=</span><span class="cn">FALSE</span>)</span>
<span id="cb489-53"><a href="tables-and-graphs.html#cb489-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph Curve 4</span></span>
<span id="cb489-54"><a href="tables-and-graphs.html#cb489-54" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">new=</span>T)</span>
<span id="cb489-55"><a href="tables-and-graphs.html#cb489-55" aria-hidden="true" tabindex="-1"></a><span class="fu">curve</span>(fc_sin_cos_tan,</span>
<span id="cb489-56"><a href="tables-and-graphs.html#cb489-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">col =</span> st_line_4_purple,</span>
<span id="cb489-57"><a href="tables-and-graphs.html#cb489-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">lwd =</span> st_line_4_lwd, <span class="at">lty =</span> st_line_4_lty,</span>
<span id="cb489-58"><a href="tables-and-graphs.html#cb489-58" aria-hidden="true" tabindex="-1"></a>      <span class="at">from =</span> ar_xlim[<span class="dv">1</span>], <span class="at">to =</span> ar_xlim[<span class="dv">2</span>], <span class="at">ylim =</span> ar_ylim,</span>
<span id="cb489-59"><a href="tables-and-graphs.html#cb489-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">ylab =</span> <span class="st">&#39;&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;&#39;</span>, <span class="at">yaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">xaxt=</span><span class="st">&#39;n&#39;</span>, <span class="at">ann=</span><span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="tables-and-graphs.html#cb490-1" aria-hidden="true" tabindex="-1"></a>pl_curves_save <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span></code></pre></div>
</div>
<div id="generate-large-font-and-small-font-versions-of-plot" class="section level5" number="9.3.1.1.2">
<h5><span class="header-section-number">9.3.1.1.2</span> Generate Large Font and Small Font Versions of PLot</h5>
<p>Generate larger font version:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="tables-and-graphs.html#cb491-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replay</span></span>
<span id="cb491-2"><a href="tables-and-graphs.html#cb491-2" aria-hidden="true" tabindex="-1"></a>pl_curves_save</span>
<span id="cb491-3"><a href="tables-and-graphs.html#cb491-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb491-4"><a href="tables-and-graphs.html#cb491-4" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb491-5"><a href="tables-and-graphs.html#cb491-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Seventh, Set Title and Legend and Plot Jointly</span></span>
<span id="cb491-6"><a href="tables-and-graphs.html#cb491-6" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb491-7"><a href="tables-and-graphs.html#cb491-7" aria-hidden="true" tabindex="-1"></a><span class="co"># CEX sizing Contorl Titling and Legend Sizes</span></span>
<span id="cb491-8"><a href="tables-and-graphs.html#cb491-8" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_reg <span class="ot">=</span> <span class="fl">0.75</span></span>
<span id="cb491-9"><a href="tables-and-graphs.html#cb491-9" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_leg <span class="ot">=</span> <span class="fl">0.75</span></span>
<span id="cb491-10"><a href="tables-and-graphs.html#cb491-10" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_small <span class="ot">=</span> <span class="fl">0.65</span></span>
<span id="cb491-11"><a href="tables-and-graphs.html#cb491-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb491-12"><a href="tables-and-graphs.html#cb491-12" aria-hidden="true" tabindex="-1"></a><span class="co"># R Legend</span></span>
<span id="cb491-13"><a href="tables-and-graphs.html#cb491-13" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> st_title, <span class="at">sub =</span> st_subtitle, <span class="at">xlab =</span> st_x_label, <span class="at">ylab =</span> st_y_label,</span>
<span id="cb491-14"><a href="tables-and-graphs.html#cb491-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab=</span>fl_ces_fig_reg,</span>
<span id="cb491-15"><a href="tables-and-graphs.html#cb491-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.main=</span>fl_ces_fig_reg,</span>
<span id="cb491-16"><a href="tables-and-graphs.html#cb491-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.sub=</span>fl_ces_fig_small)</span>
<span id="cb491-17"><a href="tables-and-graphs.html#cb491-17" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb491-18"><a href="tables-and-graphs.html#cb491-18" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="at">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb491-19"><a href="tables-and-graphs.html#cb491-19" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb491-20"><a href="tables-and-graphs.html#cb491-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb491-21"><a href="tables-and-graphs.html#cb491-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb491-22"><a href="tables-and-graphs.html#cb491-22" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb491-23"><a href="tables-and-graphs.html#cb491-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">bg=</span><span class="st">&quot;transparent&quot;</span>,</span>
<span id="cb491-24"><a href="tables-and-graphs.html#cb491-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb491-25"><a href="tables-and-graphs.html#cb491-25" aria-hidden="true" tabindex="-1"></a>       <span class="fu">c</span>(st_line_3_y_legend, st_line_4_y_legend),</span>
<span id="cb491-26"><a href="tables-and-graphs.html#cb491-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(st_line_3_black, st_line_4_purple),</span>
<span id="cb491-27"><a href="tables-and-graphs.html#cb491-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>),</span>
<span id="cb491-28"><a href="tables-and-graphs.html#cb491-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> fl_ces_fig_leg,</span>
<span id="cb491-29"><a href="tables-and-graphs.html#cb491-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(st_line_3_lty, st_line_4_lty),</span>
<span id="cb491-30"><a href="tables-and-graphs.html#cb491-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="fu">c</span>(st_line_3_lwd,st_line_4_lwd),</span>
<span id="cb491-31"><a href="tables-and-graphs.html#cb491-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="tables-and-graphs.html#cb492-1" aria-hidden="true" tabindex="-1"></a><span class="co"># record final plot</span></span>
<span id="cb492-2"><a href="tables-and-graphs.html#cb492-2" aria-hidden="true" tabindex="-1"></a>pl_curves_large <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span>
<span id="cb492-3"><a href="tables-and-graphs.html#cb492-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<p>Generate smaller font version:</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb493-1"><a href="tables-and-graphs.html#cb493-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replay</span></span>
<span id="cb493-2"><a href="tables-and-graphs.html#cb493-2" aria-hidden="true" tabindex="-1"></a>pl_curves_save</span>
<span id="cb493-3"><a href="tables-and-graphs.html#cb493-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-4"><a href="tables-and-graphs.html#cb493-4" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb493-5"><a href="tables-and-graphs.html#cb493-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Seventh, Set Title and Legend and Plot Jointly</span></span>
<span id="cb493-6"><a href="tables-and-graphs.html#cb493-6" aria-hidden="true" tabindex="-1"></a><span class="do">#######################################################</span></span>
<span id="cb493-7"><a href="tables-and-graphs.html#cb493-7" aria-hidden="true" tabindex="-1"></a><span class="co"># CEX sizing Contorl Titling and Legend Sizes</span></span>
<span id="cb493-8"><a href="tables-and-graphs.html#cb493-8" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_reg <span class="ot">=</span> <span class="fl">0.45</span></span>
<span id="cb493-9"><a href="tables-and-graphs.html#cb493-9" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_leg <span class="ot">=</span> <span class="fl">0.45</span></span>
<span id="cb493-10"><a href="tables-and-graphs.html#cb493-10" aria-hidden="true" tabindex="-1"></a>fl_ces_fig_small <span class="ot">=</span> <span class="fl">0.25</span></span>
<span id="cb493-11"><a href="tables-and-graphs.html#cb493-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-12"><a href="tables-and-graphs.html#cb493-12" aria-hidden="true" tabindex="-1"></a><span class="co"># R Legend</span></span>
<span id="cb493-13"><a href="tables-and-graphs.html#cb493-13" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main =</span> st_title, <span class="at">sub =</span> st_subtitle, <span class="at">xlab =</span> st_x_label, <span class="at">ylab =</span> st_y_label,</span>
<span id="cb493-14"><a href="tables-and-graphs.html#cb493-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.lab=</span>fl_ces_fig_reg,</span>
<span id="cb493-15"><a href="tables-and-graphs.html#cb493-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.main=</span>fl_ces_fig_reg,</span>
<span id="cb493-16"><a href="tables-and-graphs.html#cb493-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">cex.sub=</span>fl_ces_fig_small)</span>
<span id="cb493-17"><a href="tables-and-graphs.html#cb493-17" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb493-18"><a href="tables-and-graphs.html#cb493-18" aria-hidden="true" tabindex="-1"></a><span class="fu">axis</span>(<span class="dv">2</span>, <span class="at">cex.axis=</span>fl_ces_fig_reg)</span>
<span id="cb493-19"><a href="tables-and-graphs.html#cb493-19" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb493-20"><a href="tables-and-graphs.html#cb493-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb493-21"><a href="tables-and-graphs.html#cb493-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Legend sizing CEX</span></span>
<span id="cb493-22"><a href="tables-and-graphs.html#cb493-22" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topleft&quot;</span>,</span>
<span id="cb493-23"><a href="tables-and-graphs.html#cb493-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">bg=</span><span class="st">&quot;transparent&quot;</span>,</span>
<span id="cb493-24"><a href="tables-and-graphs.html#cb493-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">bty =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb493-25"><a href="tables-and-graphs.html#cb493-25" aria-hidden="true" tabindex="-1"></a>       <span class="fu">c</span>(st_line_3_y_legend, st_line_4_y_legend),</span>
<span id="cb493-26"><a href="tables-and-graphs.html#cb493-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(st_line_3_black, st_line_4_purple),</span>
<span id="cb493-27"><a href="tables-and-graphs.html#cb493-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">pch =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="cn">NA</span>),</span>
<span id="cb493-28"><a href="tables-and-graphs.html#cb493-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">cex =</span> fl_ces_fig_leg,</span>
<span id="cb493-29"><a href="tables-and-graphs.html#cb493-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(st_line_3_lty, st_line_4_lty),</span>
<span id="cb493-30"><a href="tables-and-graphs.html#cb493-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="fu">c</span>(st_line_3_lwd,st_line_4_lwd),</span>
<span id="cb493-31"><a href="tables-and-graphs.html#cb493-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">y.intersp=</span><span class="dv">2</span>)</span></code></pre></div>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="tables-and-graphs.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="co"># record final plot</span></span>
<span id="cb494-2"><a href="tables-and-graphs.html#cb494-2" aria-hidden="true" tabindex="-1"></a>pl_curves_small <span class="ot">&lt;-</span> <span class="fu">recordPlot</span>()</span>
<span id="cb494-3"><a href="tables-and-graphs.html#cb494-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
</div>
<div id="save-plot-with-varying-resolutions-and-heights" class="section level5" number="9.3.1.1.3">
<h5><span class="header-section-number">9.3.1.1.3</span> Save Plot with Varying Resolutions and Heights</h5>
<p>Export recorded plot.</p>
<p>A4 paper is 8.3 x 11.7, with 1 inch margins, the remaining area is 6.3 x 9.7. For figures that should take half of the page, the height should be 4.8 inch. One third of a page should be 3.2 inch. 6.3 inch is 160mm and 3 inch is 76 mm. In the example below, use</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb495-1"><a href="tables-and-graphs.html#cb495-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Store both in within folder directory and root image directory:</span></span>
<span id="cb495-2"><a href="tables-and-graphs.html#cb495-2" aria-hidden="true" tabindex="-1"></a><span class="co"># C:\Users\fan\R4Econ\tabgraph\inout\_img</span></span>
<span id="cb495-3"><a href="tables-and-graphs.html#cb495-3" aria-hidden="true" tabindex="-1"></a><span class="co"># C:\Users\fan\R4Econ\_img</span></span>
<span id="cb495-4"><a href="tables-and-graphs.html#cb495-4" aria-hidden="true" tabindex="-1"></a><span class="co"># need to store in both because bookdown and indi pdf path differ.</span></span>
<span id="cb495-5"><a href="tables-and-graphs.html#cb495-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Wrap in try because will not work underbookdown, but images already created</span></span>
<span id="cb495-6"><a href="tables-and-graphs.html#cb495-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb495-7"><a href="tables-and-graphs.html#cb495-7" aria-hidden="true" tabindex="-1"></a>ls_spt_root <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&#39;..//..//&#39;</span>, <span class="st">&#39;&#39;</span>)</span>
<span id="cb495-8"><a href="tables-and-graphs.html#cb495-8" aria-hidden="true" tabindex="-1"></a>spt_prefix <span class="ot">&lt;-</span> <span class="st">&#39;_img/fs_img_io_2curve&#39;</span></span>
<span id="cb495-9"><a href="tables-and-graphs.html#cb495-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb495-10"><a href="tables-and-graphs.html#cb495-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (spt_root <span class="cf">in</span> ls_spt_root) {</span>
<span id="cb495-11"><a href="tables-and-graphs.html#cb495-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Changing pointsize will not change font sizes inside, just rescale</span></span>
<span id="cb495-12"><a href="tables-and-graphs.html#cb495-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># PNG 72</span></span>
<span id="cb495-13"><a href="tables-and-graphs.html#cb495-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">try</span>(<span class="fu">png</span>(<span class="fu">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w135h76_res72.png&quot;</span>),</span>
<span id="cb495-14"><a href="tables-and-graphs.html#cb495-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="dv">135</span> , <span class="at">height =</span> <span class="dv">76</span>, <span class="at">units=</span><span class="st">&#39;mm&#39;</span>, <span class="at">res =</span> <span class="dv">72</span>, <span class="at">pointsize=</span><span class="dv">7</span>))</span>
<span id="cb495-15"><a href="tables-and-graphs.html#cb495-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(pl_curves_large)</span>
<span id="cb495-16"><a href="tables-and-graphs.html#cb495-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dev.off</span>()</span>
<span id="cb495-17"><a href="tables-and-graphs.html#cb495-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># PNG 300</span></span>
<span id="cb495-18"><a href="tables-and-graphs.html#cb495-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">try</span>(<span class="fu">png</span>(<span class="fu">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w135h76_res300.png&quot;</span>),</span>
<span id="cb495-19"><a href="tables-and-graphs.html#cb495-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="dv">135</span>, <span class="at">height =</span> <span class="dv">76</span>, <span class="at">units=</span><span class="st">&#39;mm&#39;</span>, <span class="at">res =</span> <span class="dv">300</span>, <span class="at">pointsize=</span><span class="dv">7</span>))</span>
<span id="cb495-20"><a href="tables-and-graphs.html#cb495-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(pl_curves_large)</span>
<span id="cb495-21"><a href="tables-and-graphs.html#cb495-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dev.off</span>()</span>
<span id="cb495-22"><a href="tables-and-graphs.html#cb495-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># PNG 300, SMALL, POINT SIZE LOWER</span></span>
<span id="cb495-23"><a href="tables-and-graphs.html#cb495-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">try</span>(<span class="fu">png</span>(<span class="fu">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w80h48_res300.png&quot;</span>),</span>
<span id="cb495-24"><a href="tables-and-graphs.html#cb495-24" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="dv">80</span>, <span class="at">height =</span> <span class="dv">48</span>, <span class="at">units=</span><span class="st">&#39;mm&#39;</span>, <span class="at">res =</span> <span class="dv">300</span>, <span class="at">pointsize=</span><span class="dv">7</span>))</span>
<span id="cb495-25"><a href="tables-and-graphs.html#cb495-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(pl_curves_small)</span>
<span id="cb495-26"><a href="tables-and-graphs.html#cb495-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dev.off</span>()</span>
<span id="cb495-27"><a href="tables-and-graphs.html#cb495-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># PNG 300</span></span>
<span id="cb495-28"><a href="tables-and-graphs.html#cb495-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">try</span>(<span class="fu">png</span>(<span class="fu">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_w160h100_res300.png&quot;</span>),</span>
<span id="cb495-29"><a href="tables-and-graphs.html#cb495-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">width =</span> <span class="dv">160</span>, <span class="at">height =</span> <span class="dv">100</span>, <span class="at">units=</span><span class="st">&#39;mm&#39;</span>, <span class="at">res =</span> <span class="dv">300</span>))</span>
<span id="cb495-30"><a href="tables-and-graphs.html#cb495-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(pl_curves_large)</span>
<span id="cb495-31"><a href="tables-and-graphs.html#cb495-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dev.off</span>()</span>
<span id="cb495-32"><a href="tables-and-graphs.html#cb495-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb495-33"><a href="tables-and-graphs.html#cb495-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># EPS</span></span>
<span id="cb495-34"><a href="tables-and-graphs.html#cb495-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setEPS</span>()</span>
<span id="cb495-35"><a href="tables-and-graphs.html#cb495-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">try</span>(<span class="fu">postscript</span>(<span class="fu">paste0</span>(spt_root, spt_prefix, <span class="st">&quot;_fs_2curve.eps&quot;</span>)))</span>
<span id="cb495-36"><a href="tables-and-graphs.html#cb495-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(pl_curves_large)</span>
<span id="cb495-37"><a href="tables-and-graphs.html#cb495-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dev.off</span>()</span>
<span id="cb495-38"><a href="tables-and-graphs.html#cb495-38" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## Error in png(paste0(spt_root, spt_prefix, &quot;_w135h76_res72.png&quot;), width = 135,  : 
##   unable to start png() device
## Error in png(paste0(spt_root, spt_prefix, &quot;_w135h76_res300.png&quot;), width = 135,  : 
##   unable to start png() device
## Error in png(paste0(spt_root, spt_prefix, &quot;_w80h48_res300.png&quot;), width = 80,  : 
##   unable to start png() device
## Error in png(paste0(spt_root, spt_prefix, &quot;_w160h100_res300.png&quot;), width = 160,  : 
##   unable to start png() device
## Error in postscript(paste0(spt_root, spt_prefix, &quot;_fs_2curve.eps&quot;)) : 
##   cannot open file &#39;..//..//_img/fs_img_io_2curve_fs_2curve.eps&#39;</code></pre>
</div>
<div id="low-and-high-resolution-figure" class="section level5" number="9.3.1.1.4">
<h5><span class="header-section-number">9.3.1.1.4</span> Low and High Resolution Figure</h5>
<p>The standard resolution often produces very low quality images. Resolution should be increased. See figure comparison.</p>
<center>
<img src="_img/fs_img_io_2curve_w135h76_res72.png" height="304mm" width="540mm" style="float:center">
</center>
<br />
<center>
<img src="_img/fs_img_io_2curve_w135h76_res300.png" height="304mm" width="540mm" style="float:center">
</center>
</div>
<div id="smaller-and-larger-figures" class="section level5" number="9.3.1.1.5">
<h5><span class="header-section-number">9.3.1.1.5</span> Smaller and Larger Figures</h5>
<p>Smaller and larger figures with different font size comparison. Note that earlier, we generated the figure without legends, labels, etc first, recorded the figure. Then we associated the same underlying figure with differently sized titles, legends, axis, labels.</p>
<center>
<img src="_img/fs_img_io_2curve_w80h48_res300.png" height="192mm" width="320mm" style="float:center">
</center>
<br />
<center>
<img src="_img/fs_img_io_2curve_w160h100_res300.png" height="400mm" width="640mm" style="float:center">
</center>

</div>
</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="mathmatics-and-statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="get-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["Panel-Data-and-Optimization-with-R.pdf", "PDF"]],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
